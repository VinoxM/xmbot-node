{"version":3,"sources":["webpack:///./src/components/plugins/chat/chat-setting.vue?9146","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/components/plugins/chat/chat-setting.vue?e25e","webpack:///./src/api/chat.js","webpack:///src/components/plugins/chat/chat-setting.vue","webpack:///./src/components/plugins/chat/chat-setting.vue?403f","webpack:///./src/components/plugins/chat/chat-setting.vue"],"names":["$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","length","actualStart","argumentsLength","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticStyle","attrs","loading","on","loadData","_v","save","_e","_l","setting","item","key","staticClass","_s","apiName","isAdmin","model","callback","$$v","$set","$event","delOne","ref","form","rules","v","addOne","staticRenderFns","getChatSetting","ajax","url","method","saveChatSetting","json","data","component"],"mappings":"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","file":"static/js/chunk-5b228b63.512935fc.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-setting.vue?vue&type=style&index=0&id=d512698c&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"padding-top\":\"5px\"}},[(_vm.isAdmin)?_c('el-row',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"loading\":_vm.loading},on:{\"click\":_vm.loadData}},[_vm._v(\"刷新\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.save}},[_vm._v(\"保存本页\")])],1):_vm._e(),_c('xm-info-box',{staticStyle:{\"padding-top\":\"20px\"},attrs:{\"title\":\"Q&A\",\"retractable\":\"\"}},[_vm._l((_vm.setting['Q&A']),function(item,key){return (!!_vm.setting['Q&A'])?_c('el-row',{key:key,staticClass:\"qa-box\"},[_c('el-col',{staticStyle:{\"height\":\"40px\"},attrs:{\"span\":2}},[_c('el-tag',{staticStyle:{\"width\":\"100%\",\"vertical-align\":\"middle\",\"height\":\"40px\",\"line-height\":\"40px\",\"text-align\":\"center\",\"font-size\":\"14px\"}},[_vm._v(_vm._s(item.apiName))])],1),_c('el-col',{attrs:{\"span\":7}},[_c('el-input',{attrs:{\"readonly\":!_vm.isAdmin},model:{value:(item.question),callback:function ($$v) {_vm.$set(item, \"question\", $$v)},expression:\"item.question\"}})],1),_c('el-col',{staticClass:\"text-center\",staticStyle:{\"line-height\":\"40px\"},attrs:{\"span\":1}},[_c('span',{staticStyle:{\"line-height\":\"40px\"}},[_vm._v(\"：\")])]),_c('el-col',{attrs:{\"span\":_vm.isAdmin?12:14}},[_c('el-input',{attrs:{\"readonly\":!_vm.isAdmin},model:{value:(item['answer']),callback:function ($$v) {_vm.$set(item, 'answer', $$v)},expression:\"item['answer']\"}})],1),(_vm.isAdmin)?_c('span',{staticClass:\"text-right qa-btn\"},[_c('el-col',{staticClass:\"text-right qa-btn\",attrs:{\"span\":2}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-delete\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delOne(key)}}},[_vm._v(\"删除\")])],1)],1):_vm._e()],1):_vm._e()}),(_vm.isAdmin)?_c('el-row',[_c('el-form',{ref:\"form\",staticClass:\"add-form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-col',{attrs:{\"span\":2}},[_c('el-form-item',{attrs:{\"prop\":\"apiName\"}},[_c('el-select',{model:{value:(_vm.form.apiName),callback:function ($$v) {_vm.$set(_vm.form, \"apiName\", $$v)},expression:\"form.apiName\"}},_vm._l((_vm.botApi),function(v,k){return _c('el-option',{key:k,attrs:{\"label\":v,\"value\":v}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{attrs:{\"prop\":\"question\"}},[_c('el-input',{model:{value:(_vm.form.question),callback:function ($$v) {_vm.$set(_vm.form, \"question\", $$v)},expression:\"form.question\"}})],1)],1),_c('el-col',{staticClass:\"text-center\",staticStyle:{\"line-height\":\"40px\"},attrs:{\"span\":1}},[_c('span',[_vm._v(\"：\")])]),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"answer\"}},[_c('el-input',{model:{value:(_vm.form['answer']),callback:function ($$v) {_vm.$set(_vm.form, 'answer', $$v)},expression:\"form['answer']\"}})],1)],1),_c('el-col',{staticClass:\"text-right qa-btn\",attrs:{\"span\":2}},[_c('el-button',{staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"size\":\"small\",\"icon\":\"el-icon-plus\",\"type\":\"success\"},on:{\"click\":_vm.addOne}},[_vm._v(\" 添加 \")])],1)],1)],1):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import ajax from './index'\n\nexport const getChatSetting = () => ajax({url: '/setting/chat.json', method: 'get'})\n\nexport const saveChatSetting = (json) => ajax({url: '/setting/chat.save', method: 'post', data: json})\n","<template>\n  <el-row v-loading=\"loading\" style=\"padding-top: 5px\">\n    <el-row v-if=\"isAdmin\" style=\"margin-bottom: 15px\">\n      <el-button size=\"small\" type=\"success\" :loading=\"loading\" @click=\"loadData\">刷新</el-button>\n      <el-button type=\"primary\" size=\"small\" @click=\"save\">保存本页</el-button>\n    </el-row>\n    <xm-info-box title=\"Q&A\" retractable style=\"padding-top: 20px\">\n      <el-row v-if=\"!!setting['Q&A']\" v-for=\"(item,key) of setting['Q&A']\" :key=\"key\" class=\"qa-box\">\n        <el-col :span=\"2\" style=\"height: 40px\">\n          <el-tag style=\"width: 100%;vertical-align: middle;height: 40px;line-height: 40px;text-align: center;font-size: 14px\">{{item.apiName}}</el-tag>\n        </el-col>\n        <el-col :span=\"7\">\n          <el-input v-model=\"item.question\" :readonly=\"!isAdmin\"></el-input>\n        </el-col>\n        <el-col :span=\"1\" class=\"text-center\" style=\"line-height: 40px\">\n          <span style=\"line-height: 40px\">：</span>\n        </el-col>\n        <el-col :span=\"isAdmin?12:14\">\n          <el-input v-model=\"item['answer']\" :readonly=\"!isAdmin\"></el-input>\n        </el-col>\n        <span v-if=\"isAdmin\" class=\"text-right qa-btn\">\n          <el-col :span=\"2\" class=\"text-right qa-btn\">\n            <el-button size=\"small\" icon=\"el-icon-delete\" type=\"danger\" @click=\"delOne(key)\">删除</el-button>\n          </el-col>\n        </span>\n      </el-row>\n      <el-row v-if=\"isAdmin\">\n        <el-form class=\"add-form\" :model=\"form\" ref=\"form\" :rules=\"rules\">\n          <el-col :span=\"2\">\n            <el-form-item prop=\"apiName\">\n              <el-select v-model=\"form.apiName\">\n                <el-option v-for=\"(v,k) of botApi\" :label=\"v\" :value=\"v\" :key=\"k\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"7\">\n            <el-form-item prop=\"question\">\n              <el-input v-model=\"form.question\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"1\" class=\"text-center\" style=\"line-height: 40px\">\n            <span>：</span>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item prop=\"answer\">\n              <el-input v-model=\"form['answer']\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"2\" class=\"text-right qa-btn\">\n            <el-button size=\"small\" icon=\"el-icon-plus\" type=\"success\" style=\"vertical-align: middle\" @click=\"addOne\">\n              添加\n            </el-button>\n          </el-col>\n        </el-form>\n      </el-row>\n    </xm-info-box>\n  </el-row>\n</template>\n\n<script>\n  import * as api_chat from '../../../api/chat'\n\n  export default {\n    name: \"chat-setting\",\n    data() {\n      const valid = (rule, value, callback) => {\n        if (!this.setting['Q&A'].some(o => o.question === value)) {\n          callback()\n        } else {\n          callback(new Error('与已有问题重复'))\n        }\n      }\n      return {\n        loading: false,\n        setting: {},\n        saveLoading: false,\n        form: {\n          apiName: '',\n          question: '',\n          answer: ''\n        },\n        rules: {\n          apiName: [{required: true, message: '请选择API', trigger: 'change'}],\n          question: [{required: true, message: '请输入问题', trigger: 'blur'}, {validator: valid, trigger: 'blur'}],\n          answer: [{required: true, message: '请输入回答', trigger: 'blur'}]\n        }\n      }\n    },\n    computed: {\n      botApi() {\n        return this.$botApi\n      },\n      isAdmin() {\n        return this.$store.state.isAdmin\n      }\n    },\n    methods: {\n      delOne(index) {\n        this.setting['Q&A'].splice(index, 1)\n      },\n      addOne() {\n        this.$refs.form.validate(v => {\n          if (!v) return\n          this.setting['Q&A'].push(this.form)\n          this.form = {\n            question: '',\n            answer: ''\n          }\n        })\n      },\n      save() {\n        this.saveLoading = true\n        api_chat.saveChatSetting(this.setting).then(res => {\n          this.$message({\n            message: res['msg'],\n            type: res['code'] === 0 ? 'success' : 'error'\n          })\n          this.saveLoading = false\n        }).catch(err => {\n          this.saveLoading = false\n        })\n      },\n      loadData(){\n        this.loading = true\n        api_chat.getChatSetting().then(res => {\n          this.loading = false\n          if (res['code'] !== 0) {\n            this.$message.error(res['msg'])\n            return\n          }\n          this.setting = res.data\n        }).catch(() => {\n          this.loading = false\n        })\n      }\n    },\n    created() {\n      this.loadData()\n    }\n  }\n</script>\n\n<style scoped>\n  .qa-box {\n    margin-bottom: 10px;\n  }\n\n  .qa-btn {\n    height: 40px;\n    padding: 3px 0;\n  }\n\n  .add-form >>> .el-form-item {\n    margin-bottom: 10px !important;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chat-setting.vue?vue&type=template&id=d512698c&scoped=true&\"\nimport script from \"./chat-setting.vue?vue&type=script&lang=js&\"\nexport * from \"./chat-setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat-setting.vue?vue&type=style&index=0&id=d512698c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d512698c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}