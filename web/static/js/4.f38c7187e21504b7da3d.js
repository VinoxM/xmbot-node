webpackJsonp([4],{MFx4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Dod7"),s={name:"base-setting",data:function(){return{loading:!0,setting:null,saveLoading:!1}},computed:{isAdmin:function(){return this.$store.state.isAdmin}},methods:{saveSetting:function(){var e=this;this.saveLoading=!0,a.c(this.setting).then(function(t){e.saveLoading=!1,e.$message({type:0===t.code?"success":"error",message:t.msg})}).catch(function(){e.saveLoading=!1})}},created:function(){var e=this;a.a().then(function(t){0===t.code?(e.loading=!1,e.setting=t.data):e.$message.error("加载失败:"+t.msg)}).catch(function(){})}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{padding:"5px 0 0 0"}},[e.isAdmin?i("el-row",{staticStyle:{"margin-bottom":"15px"}},[i("el-button",{attrs:{size:"small",type:"primary",loading:e.saveLoading},on:{click:e.saveSetting}},[e._v("保存本页")])],1):e._e(),e._v(" "),e.setting?i("el-form",{staticClass:"ws-form",attrs:{"label-width":"120px"}},[i("xm-info-box",{staticStyle:{"padding-top":"20px"},attrs:{retractable:"",title:"Bot基本设置"}},e._l(e.setting.api,function(t,a,s){return e.setting.api?i("xm-info-box",{key:s,attrs:{retractable:""}},[i("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n          "+e._s(String(a).toUpperCase())+"\n        ")]),e._v(" "),t.ws?i("el-row",[i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Host","label-width":"100px"}},[i("el-input",{attrs:{readonly:!e.isAdmin},model:{value:t.ws.host,callback:function(i){e.$set(t.ws,"host",i)},expression:"val.ws.host"}})],1),e._v(" "),i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Port","label-width":"100px"}},[i("el-input",{attrs:{readonly:!e.isAdmin},model:{value:t.ws.port,callback:function(i){e.$set(t.ws,"port",i)},expression:"val.ws.port"}})],1)],1),e._v(" "),i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"API接口","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!e.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.ws.enableAPI,callback:function(i){e.$set(t.ws,"enableAPI",i)},expression:"val.ws['enableAPI']"}})],1),e._v(" "),i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Event接口","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!e.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.ws.enableEvent,callback:function(i){e.$set(t.ws,"enableEvent",i)},expression:"val.ws['enableEvent']"}})],1)],1),e._v(" "),i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"自动重连","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!e.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.ws.reconnection,callback:function(i){e.$set(t.ws,"reconnection",i)},expression:"val.ws['reconnection']"}})],1),e._v(" "),t.ws.reconnection?i("el-form-item",{staticClass:"ws-inline",attrs:{label:"最大重连次数","label-width":"100px"}},[i("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",max:20,min:5,disabled:!e.isAdmin},model:{value:t.ws.reconnectionAttempts,callback:function(i){e.$set(t.ws,"reconnectionAttempts",i)},expression:"val.ws['reconnectionAttempts']"}})],1):e._e(),e._v(" "),t.ws.reconnection?i("el-form-item",{staticClass:"ws-inline",attrs:{label:"重连延迟","label-width":"100px"}},[i("el-input-number",{staticStyle:{width:"120px"},attrs:{"controls-position":"right",max:5e3,min:500,step:100,disabled:!e.isAdmin},model:{value:t.ws.reconnectionDelay,callback:function(i){e.$set(t.ws,"reconnectionDelay",i)},expression:"val.ws['reconnectionDelay']"}}),e._v(" "),i("span",{staticStyle:{padding:"0 0 0 10px"}},[e._v("ms")])],1):e._e()],1)],1):e._e(),e._v(" "),i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"匹配前缀"}},[i("el-switch",{attrs:{disabled:!e.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.prefixOn,callback:function(i){e.$set(t,"prefixOn",i)},expression:"val['prefixOn']"}})],1),e._v(" "),t.prefixOn?i("el-form-item",{staticClass:"ws-inline-last",attrs:{label:"前缀词"}},[i("xm-tags",{attrs:{value:t.prefix,label:"Prefix",disabled:!e.isAdmin},on:{"update:value":function(i){return e.$set(t,"prefix",i)}}})],1):e._e()],1),e._v(" "),i("el-form-item",{attrs:{label:"主人QQ"}},[i("xm-tags",{attrs:{value:t.master,label:"Master",disabled:!e.isAdmin},on:{"update:value":function(i){return e.$set(t,"master",i)}}})],1),e._v(" "),i("xm-info-box",{attrs:{title:"聊天设置",retractable:""}},[i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"过滤群聊","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!e.isAdmin,"active-color":"#000000","active-text":"黑名单","inactive-text":"白名单"},model:{value:t.isBlackGroup,callback:function(i){e.$set(t,"isBlackGroup",i)},expression:"val['isBlackGroup']"}})],1),e._v(" "),t.isBlackGroup?i("el-form-item",{staticClass:"ws-inline-last",attrs:{label:"黑名单","label-width":"100px"}},[i("xm-tags",{attrs:{value:t.blackGroup,label:"Black",type:"info",disabled:!e.isAdmin},on:{"update:value":function(i){return e.$set(t,"blackGroup",i)}}})],1):i("el-form-item",{staticClass:"ws-inline",attrs:{label:"白名单","label-width":"100px"}},[i("xm-tags",{attrs:{value:t.whiteGroup,label:"White",type:"success",disabled:!e.isAdmin},on:{"update:value":function(i){return e.$set(t,"whiteGroup",i)}}})],1)],1),e._v(" "),i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"私聊","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!e.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.enablePrivate,callback:function(i){e.$set(t,"enablePrivate",i)},expression:"val['enablePrivate']"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"启动反馈主人"}},[i("el-switch",{attrs:{disabled:!e.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.readyFeedBack,callback:function(i){e.$set(t,"readyFeedBack",i)},expression:"val['readyFeedBack']"}})],1)],1):e._e()}),1),e._v(" "),i("el-form-item",{attrs:{label:"代理地址"}},[i("el-input",{attrs:{readonly:!e.isAdmin},model:{value:e.setting.proxy,callback:function(t){e.$set(e.setting,"proxy",t)},expression:"setting['proxy']"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"访问网址"}},[i("el-input",{attrs:{readonly:!e.isAdmin},model:{value:e.setting.base_url,callback:function(t){e.$set(e.setting,"base_url",t)},expression:"setting['base_url']"}})],1),e._v(" "),i("xm-info-box",{staticStyle:{"padding-top":"15px"},attrs:{title:"WebSocket 设置",retractable:""}},[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Host","label-width":"100px"}},[i("el-input",{attrs:{readonly:!e.isAdmin},model:{value:e.setting.socket.host,callback:function(t){e.$set(e.setting.socket,"host",t)},expression:"setting.socket.host"}})],1),e._v(" "),i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Port","label-width":"100px"}},[i("el-input",{attrs:{readonly:!e.isAdmin},model:{value:e.setting.socket.port,callback:function(t){e.$set(e.setting.socket,"port",t)},expression:"setting.socket.port"}})],1)],1)],1):e._e()],1)},staticRenderFns:[]};var n=i("VU/8")(s,l,!1,function(e){i("ePwc")},"data-v-ddde5ddc",null);t.default=n.exports},ePwc:function(e,t){}});
//# sourceMappingURL=4.f38c7187e21504b7da3d.js.map