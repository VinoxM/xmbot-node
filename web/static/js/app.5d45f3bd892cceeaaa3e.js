webpackJsonp([6],{NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("7+uW"),o={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var a=t("VU/8")({name:"App"},o,!1,function(e){t("Tml/")},null,null).exports,u=t("/ocq");r.default.use(u.a);var s=new u.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"Index",component:function(){return t.e(2).then(t.bind(null,"dAjm"))}},{path:"/404",name:"404",component:function(){return t.e(4).then(t.bind(null,"thLP"))}},{path:"/login",name:"login",component:function(){return t.e(3).then(t.bind(null,"K31e"))}},{path:"/reset-pwd",name:"resetPassword",component:function(){return t.e(1).then(t.bind(null,"7FYp"))}},{path:"/pcr/pool-setting",name:"pcr-pool-setting",meta:{auth:!0},component:function(){return t.e(0).then(t.bind(null,"/PBl"))}},{path:"*",redirect:"/404"}]}),i=t("zL8q"),c=t.n(i),p=(t("tvR6"),t("gyMJ")),l=t("ppUw"),d=t.n(l);r.default.config.productionTip=!1,r.default.use(c.a),r.default.use(d.a),r.default.prototype.$ajax=p.b;var f=new r.default({el:"#app",router:s,components:{App:a},template:"<App/>"});Object(p.a)(f),s.beforeEach(function(e,n,t){if(e.matched.some(function(e){return e.meta&&e.meta.auth})){var r=f.$cookies.get("token"),o=f.$cookies.get("salt");r&&o?f.$ajax({url:"/token.valid",params:{token:r,salt:o}}).then(function(e){0===e.code?t():f.$message({type:"error",message:e.msg,duration:1e3,onClose:function(){t("/login")}})}).catch(function(e){t("/index")}):f.$message({type:"error",message:"未登录",duration:1e3,onClose:function(){t("/login")}})}else t()})},"Tml/":function(e,n){},gyMJ:function(e,n,t){"use strict";t.d(n,"b",function(){return u}),n.a=function(e){u.interceptors.request.use(function(n){var t=e.$cookies.get("salt"),r=e.$cookies.get("token");return n.headers.token=r||"",n.headers.salt=t||"",n},function(n){return e.$message({type:"error",message:"请求出错"}),o.a.reject(n)}),u.interceptors.response.use(function(e){return e.data},function(n){return e.$message({type:"error",message:"服务器出错"}),o.a.reject(n)})};var r=t("//Fk"),o=t.n(r),a=t("mw3O"),u=(t.n(a),t("mtWM").default);u.defaults.baseURL="/",n.c=u},tvR6:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.5d45f3bd892cceeaaa3e.js.map