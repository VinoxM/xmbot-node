(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b228b63"],{"22e0":function(t,e,n){"use strict";n("7e8e")},"7e8e":function(t,e,n){},a434:function(t,e,n){"use strict";var a=n("23e7"),i=n("23cb"),s=n("a691"),r=n("50c4"),o=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),d=u("splice"),m=Math.max,p=Math.min,f=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,a,u,d,h,v,b=o(this),x=r(b.length),w=i(t,x),y=arguments.length;if(0===y?n=a=0:1===y?(n=0,a=x-w):(n=y-2,a=p(m(s(e),0),x-w)),x+n-a>f)throw TypeError(g);for(u=l(b,a),d=0;d<a;d++)h=w+d,h in b&&c(u,d,b[h]);if(u.length=a,n<a){for(d=w;d<x-a;d++)h=d+a,v=d+n,h in b?b[v]=b[h]:delete b[v];for(d=x;d>x-a+n;d--)delete b[d-1]}else if(n>a)for(d=x-a;d>w;d--)h=d+a-1,v=d+n-1,h in b?b[v]=b[h]:delete b[v];for(d=0;d<n;d++)b[d+w]=arguments[d+2];return b.length=x-a+n,u}})},ac6e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"padding-top":"5px"}},[t.isAdmin?n("el-row",{staticStyle:{"margin-bottom":"15px"}},[n("el-button",{attrs:{size:"small",type:"success",loading:t.loading},on:{click:t.loadData}},[t._v("刷新")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.save}},[t._v("保存本页")])],1):t._e(),n("xm-info-box",{staticStyle:{"padding-top":"20px"},attrs:{title:"Q&A",retractable:""}},[t._l(t.setting["Q&A"],(function(e,a){return t.setting["Q&A"]?n("el-row",{key:a,staticClass:"qa-box"},[n("el-col",{staticStyle:{height:"40px"},attrs:{span:2}},[n("el-tag",{staticStyle:{width:"100%","vertical-align":"middle",height:"40px","line-height":"40px","text-align":"center","font-size":"14px"}},[t._v(t._s(e.apiName))])],1),n("el-col",{attrs:{span:7}},[n("el-input",{attrs:{readonly:!t.isAdmin},model:{value:e.question,callback:function(n){t.$set(e,"question",n)},expression:"item.question"}})],1),n("el-col",{staticClass:"text-center",staticStyle:{"line-height":"40px"},attrs:{span:1}},[n("span",{staticStyle:{"line-height":"40px"}},[t._v("：")])]),n("el-col",{attrs:{span:t.isAdmin?12:14}},[n("el-input",{attrs:{readonly:!t.isAdmin},model:{value:e["answer"],callback:function(n){t.$set(e,"answer",n)},expression:"item['answer']"}})],1),t.isAdmin?n("span",{staticClass:"text-right qa-btn"},[n("el-col",{staticClass:"text-right qa-btn",attrs:{span:2}},[n("el-button",{attrs:{size:"small",icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.delOne(a)}}},[t._v("删除")])],1)],1):t._e()],1):t._e()})),t.isAdmin?n("el-row",[n("el-form",{ref:"form",staticClass:"add-form",attrs:{model:t.form,rules:t.rules}},[n("el-col",{attrs:{span:2}},[n("el-form-item",{attrs:{prop:"apiName"}},[n("el-select",{model:{value:t.form.apiName,callback:function(e){t.$set(t.form,"apiName",e)},expression:"form.apiName"}},t._l(t.botApi,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1),n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{prop:"question"}},[n("el-input",{model:{value:t.form.question,callback:function(e){t.$set(t.form,"question",e)},expression:"form.question"}})],1)],1),n("el-col",{staticClass:"text-center",staticStyle:{"line-height":"40px"},attrs:{span:1}},[n("span",[t._v("：")])]),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"answer"}},[n("el-input",{model:{value:t.form["answer"],callback:function(e){t.$set(t.form,"answer",e)},expression:"form['answer']"}})],1)],1),n("el-col",{staticClass:"text-right qa-btn",attrs:{span:2}},[n("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"small",icon:"el-icon-plus",type:"success"},on:{click:t.addOne}},[t._v(" 添加 ")])],1)],1)],1):t._e()],2)],1)},i=[],s=(n("a434"),n("365c")),r=function(){return Object(s["d"])({url:"/setting/chat.json",method:"get"})},o=function(t){return Object(s["d"])({url:"/setting/chat.save",method:"post",data:t})},l={name:"chat-setting",data:function(){var t=this,e=function(e,n,a){t.setting["Q&A"].some((function(t){return t.question===n}))?a(new Error("与已有问题重复")):a()};return{loading:!1,setting:{},saveLoading:!1,form:{apiName:"",question:"",answer:""},rules:{apiName:[{required:!0,message:"请选择API",trigger:"change"}],question:[{required:!0,message:"请输入问题",trigger:"blur"},{validator:e,trigger:"blur"}],answer:[{required:!0,message:"请输入回答",trigger:"blur"}]}}},computed:{botApi:function(){return this.$botApi},isAdmin:function(){return this.$store.state.isAdmin}},methods:{delOne:function(t){this.setting["Q&A"].splice(t,1)},addOne:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.setting["Q&A"].push(t.form),t.form={question:"",answer:""})}))},save:function(){var t=this;this.saveLoading=!0,o(this.setting).then((function(e){t.$message({message:e["msg"],type:0===e["code"]?"success":"error"}),t.saveLoading=!1})).catch((function(e){t.saveLoading=!1}))},loadData:function(){var t=this;this.loading=!0,r().then((function(e){t.loading=!1,0===e["code"]?t.setting=e.data:t.$message.error(e["msg"])})).catch((function(){t.loading=!1}))}},created:function(){this.loadData()}},c=l,u=(n("22e0"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"d512698c",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-5b228b63.512935fc.js.map