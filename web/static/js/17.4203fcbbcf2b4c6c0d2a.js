webpackJsonp([17],{MFx4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("gyMJ"),a={name:"base-setting",data:function(){return{loading:!0,setting:null,saveLoading:!1}},computed:{isAdmin:function(){return this.$store.state.isAdmin}},methods:{saveSetting:function(){var t,e=this;this.saveLoading=!0,(t=this.setting,Object(s.b)({url:"/setting/default.save",method:"post",data:t})).then(function(t){e.saveLoading=!1,e.$message({type:0===t.code?"success":"error",message:t.msg})}).catch(function(){e.saveLoading=!1})}},created:function(){var t=this;Object(s.b)({url:"/setting/default.json",method:"get"}).then(function(e){0===e.code?(t.loading=!1,t.setting=e.data):t.$message.error("加载失败:"+e.msg)}).catch(function(){})}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{padding:"5px 0 0 0"}},[t.isAdmin?i("el-row",{staticStyle:{"margin-bottom":"15px"}},[i("el-button",{attrs:{size:"small",type:"primary",loading:t.saveLoading},on:{click:t.saveSetting}},[t._v("保存本页")])],1):t._e(),t._v(" "),t.setting?i("el-form",{staticClass:"ws-form",attrs:{"label-width":"120px"}},[i("xm-info-box",{attrs:{title:"Bot 连接设置",retractable:""}},[i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Host","label-width":"100px"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:t.setting.ws.host,callback:function(e){t.$set(t.setting.ws,"host",e)},expression:"setting.ws.host"}})],1),t._v(" "),i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Port","label-width":"100px"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:t.setting.ws.port,callback:function(e){t.$set(t.setting.ws,"port",e)},expression:"setting.ws.port"}})],1)],1),t._v(" "),i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"API接口","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!t.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.setting.ws.enableAPI,callback:function(e){t.$set(t.setting.ws,"enableAPI",e)},expression:"setting.ws['enableAPI']"}})],1),t._v(" "),i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Event接口","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!t.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.setting.ws.enableEvent,callback:function(e){t.$set(t.setting.ws,"enableEvent",e)},expression:"setting.ws['enableEvent']"}})],1)],1),t._v(" "),i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"自动重连","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!t.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.setting.ws.reconnection,callback:function(e){t.$set(t.setting.ws,"reconnection",e)},expression:"setting.ws['reconnection']"}})],1),t._v(" "),t.setting.ws.reconnection?i("el-form-item",{staticClass:"ws-inline",attrs:{label:"最大重连次数","label-width":"100px"}},[i("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right",max:20,min:5,disabled:!t.isAdmin},model:{value:t.setting.ws.reconnectionAttempts,callback:function(e){t.$set(t.setting.ws,"reconnectionAttempts",e)},expression:"setting.ws['reconnectionAttempts']"}})],1):t._e(),t._v(" "),t.setting.ws.reconnection?i("el-form-item",{staticClass:"ws-inline",attrs:{label:"重连延迟","label-width":"100px"}},[i("el-input-number",{staticStyle:{width:"120px"},attrs:{"controls-position":"right",max:5e3,min:500,step:100,disabled:!t.isAdmin},model:{value:t.setting.ws.reconnectionDelay,callback:function(e){t.$set(t.setting.ws,"reconnectionDelay",e)},expression:"setting.ws['reconnectionDelay']"}}),t._v(" "),i("span",{staticStyle:{padding:"0 0 0 10px"}},[t._v("ms")])],1):t._e()],1)],1),t._v(" "),i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"匹配前缀"}},[i("el-switch",{attrs:{disabled:!t.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.setting.prefixOn,callback:function(e){t.$set(t.setting,"prefixOn",e)},expression:"setting['prefixOn']"}})],1),t._v(" "),t.setting.prefixOn?i("el-form-item",{staticClass:"ws-inline",attrs:{label:"前缀词"}},[i("xm-tags",{attrs:{value:t.setting.prefix,label:"Prefix",disabled:!t.isAdmin},on:{"update:value":function(e){return t.$set(t.setting,"prefix",e)}}})],1):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"主人QQ"}},[i("xm-tags",{attrs:{value:t.setting.master,label:"Master",disabled:!t.isAdmin},on:{"update:value":function(e){return t.$set(t.setting,"master",e)}}})],1),t._v(" "),i("xm-info-box",{attrs:{title:"聊天设置",retractable:""}},[i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"过滤群聊","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!t.isAdmin,"active-color":"#000000","active-text":"黑名单","inactive-text":"白名单"},model:{value:t.setting.isBlackGroup,callback:function(e){t.$set(t.setting,"isBlackGroup",e)},expression:"setting['isBlackGroup']"}})],1),t._v(" "),t.setting.isBlackGroup?i("el-form-item",{staticClass:"ws-inline",attrs:{label:"黑名单","label-width":"100px"}},[i("xm-tags",{attrs:{value:t.setting.blackGroup,label:"Black",type:"info",disabled:!t.isAdmin},on:{"update:value":function(e){return t.$set(t.setting,"blackGroup",e)}}})],1):i("el-form-item",{staticClass:"ws-inline",attrs:{label:"白名单","label-width":"100px"}},[i("xm-tags",{attrs:{value:t.setting.whiteGroup,label:"White",type:"success",disabled:!t.isAdmin},on:{"update:value":function(e){return t.$set(t.setting,"whiteGroup",e)}}})],1)],1),t._v(" "),i("el-row",[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"私聊","label-width":"100px"}},[i("el-switch",{attrs:{disabled:!t.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.setting.enablePrivate,callback:function(e){t.$set(t.setting,"enablePrivate",e)},expression:"setting['enablePrivate']"}})],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"启动反馈主人"}},[i("el-switch",{attrs:{disabled:!t.isAdmin,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:t.setting.readyFeedBack,callback:function(e){t.$set(t.setting,"readyFeedBack",e)},expression:"setting['readyFeedBack']"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"代理地址"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:t.setting.proxy,callback:function(e){t.$set(t.setting,"proxy",e)},expression:"setting['proxy']"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"访问网址"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:t.setting.base_url,callback:function(e){t.$set(t.setting,"base_url",e)},expression:"setting['base_url']"}})],1),t._v(" "),i("xm-info-box",{attrs:{title:"WebSocket 设置",retractable:""}},[i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Host","label-width":"100px"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:t.setting.socket.host,callback:function(e){t.$set(t.setting.socket,"host",e)},expression:"setting.socket.host"}})],1),t._v(" "),i("el-form-item",{staticClass:"ws-inline",attrs:{label:"Port","label-width":"100px"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:t.setting.socket.port,callback:function(e){t.$set(t.setting.socket,"port",e)},expression:"setting.socket.port"}})],1)],1)],1):t._e()],1)},staticRenderFns:[]};var l=i("VU/8")(a,n,!1,function(t){i("utab")},"data-v-02faa8d0",null);e.default=l.exports},utab:function(t,e){}});
//# sourceMappingURL=17.4203fcbbcf2b4c6c0d2a.js.map