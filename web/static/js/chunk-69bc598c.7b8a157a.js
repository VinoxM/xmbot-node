(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69bc598c"],{a434:function(t,e,n){"use strict";var i=n("23e7"),s=n("23cb"),a=n("a691"),r=n("50c4"),o=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),d=u("splice"),m=Math.max,p=Math.min,f=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,i,u,d,h,b,v=o(this),x=r(v.length),w=s(t,x),y=arguments.length;if(0===y?n=i=0:1===y?(n=0,i=x-w):(n=y-2,i=p(m(a(e),0),x-w)),x+n-i>f)throw TypeError(g);for(u=l(v,i),d=0;d<i;d++)h=w+d,h in v&&c(u,d,v[h]);if(u.length=i,n<i){for(d=w;d<x-i;d++)h=d+i,b=d+n,h in v?v[b]=v[h]:delete v[b];for(d=x;d>x-i+n;d--)delete v[d-1]}else if(n>i)for(d=x-i;d>w;d--)h=d+i-1,b=d+n-1,h in v?v[b]=v[h]:delete v[b];for(d=0;d<n;d++)v[d+w]=arguments[d+2];return v.length=x-i+n,u}})},ac6e:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"padding-top":"5px"}},[t.isAdmin?n("el-row",{staticStyle:{"margin-bottom":"15px"}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.save}},[t._v("保存本页")])],1):t._e(),n("xm-info-box",{staticStyle:{"padding-top":"20px"},attrs:{title:"Q&A",retractable:""}},[t._l(t.setting["Q&A"],(function(e,i){return t.setting["Q&A"]?n("el-row",{key:i,staticClass:"qa-box"},[n("el-col",{staticStyle:{height:"40px"},attrs:{span:2}},[n("el-tag",{staticStyle:{width:"100%","vertical-align":"middle",height:"40px","line-height":"40px","text-align":"center","font-size":"14px"}},[t._v(t._s(e.apiName))])],1),n("el-col",{attrs:{span:7}},[n("el-input",{attrs:{readonly:!t.isAdmin},model:{value:e.question,callback:function(n){t.$set(e,"question",n)},expression:"item.question"}})],1),n("el-col",{staticClass:"text-center",staticStyle:{"line-height":"40px"},attrs:{span:1}},[n("span",{staticStyle:{"line-height":"40px"}},[t._v("：")])]),n("el-col",{attrs:{span:t.isAdmin?12:14}},[n("el-input",{attrs:{readonly:!t.isAdmin},model:{value:e["answer"],callback:function(n){t.$set(e,"answer",n)},expression:"item['answer']"}})],1),t.isAdmin?n("span",{staticClass:"text-right qa-btn"},[n("el-col",{staticClass:"text-right qa-btn",attrs:{span:2}},[n("el-button",{attrs:{size:"small",icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.delOne(i)}}},[t._v("删除")])],1)],1):t._e()],1):t._e()})),t.isAdmin?n("el-row",[n("el-form",{ref:"form",staticClass:"add-form",attrs:{model:t.form,rules:t.rules}},[n("el-col",{attrs:{span:2}},[n("el-form-item",{attrs:{prop:"apiName"}},[n("el-select",{model:{value:t.form.apiName,callback:function(e){t.$set(t.form,"apiName",e)},expression:"form.apiName"}},t._l(t.botApi,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1),n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{prop:"question"}},[n("el-input",{model:{value:t.form.question,callback:function(e){t.$set(t.form,"question",e)},expression:"form.question"}})],1)],1),n("el-col",{staticClass:"text-center",staticStyle:{"line-height":"40px"},attrs:{span:1}},[n("span",[t._v("：")])]),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"answer"}},[n("el-input",{model:{value:t.form["answer"],callback:function(e){t.$set(t.form,"answer",e)},expression:"form['answer']"}})],1)],1),n("el-col",{staticClass:"text-right qa-btn",attrs:{span:2}},[n("el-button",{staticStyle:{"vertical-align":"middle"},attrs:{size:"small",icon:"el-icon-plus",type:"success"},on:{click:t.addOne}},[t._v(" 添加 ")])],1)],1)],1):t._e()],2)],1)},s=[],a=(n("a434"),n("365c")),r=function(){return Object(a["d"])({url:"/setting/chat.json",method:"get"})},o=function(t){return Object(a["d"])({url:"/setting/chat.save",method:"post",data:t})},l={name:"chat-setting",data:function(){var t=this,e=function(e,n,i){t.setting["Q&A"].some((function(t){return t.question===n}))?i(new Error("与已有问题重复")):i()};return{loading:!1,setting:{},saveLoading:!1,form:{apiName:"",question:"",answer:""},rules:{apiName:[{required:!0,message:"请选择API",trigger:"change"}],question:[{required:!0,message:"请输入问题",trigger:"blur"},{validator:e,trigger:"blur"}],answer:[{required:!0,message:"请输入回答",trigger:"blur"}]}}},computed:{botApi:function(){return this.$botApi},isAdmin:function(){return this.$store.state.isAdmin}},methods:{delOne:function(t){this.setting["Q&A"].splice(t,1)},addOne:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.setting["Q&A"].push(t.form),t.form={question:"",answer:""})}))},save:function(){var t=this;this.saveLoading=!0,o(this.setting).then((function(e){t.$message({message:e["msg"],type:0===e["code"]?"success":"error"}),t.saveLoading=!1})).catch((function(e){t.saveLoading=!1}))}},created:function(){var t=this;this.loading=!0,r().then((function(e){t.loading=!1,0===e["code"]?t.setting=e.data:t.$message.error(e["msg"])})).catch((function(){t.loading=!1}))}},c=l,u=(n("dcbe"),n("2877")),d=Object(u["a"])(c,i,s,!1,null,"61da7db9",null);e["default"]=d.exports},d07f:function(t,e,n){},dcbe:function(t,e,n){"use strict";n("d07f")}}]);
//# sourceMappingURL=chunk-69bc598c.7b8a157a.js.map