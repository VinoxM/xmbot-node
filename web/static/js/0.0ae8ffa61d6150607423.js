webpackJsonp([0],{"7RIz":function(e,t){},BO1k:function(e,t,i){e.exports={default:i("fxRn"),__esModule:!0}},Cdx3:function(e,t,i){var s=i("sB3e"),n=i("lktj");i("uqUo")("keys",function(){return function(e){return n(s(e))}})},DKKw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("BO1k"),n=i.n(s),r=i("fZjL"),o=i.n(r),a=i("mvHQ"),l=i.n(a),c=i("gyMJ"),p={name:"pcr-character-add",props:["visible","value","title"],data:function(){var e=this;return{visible_:!1,form:{type:"normal",star:"1",num:"",jp_name:"",cn_name:"",nickNames:"",imgUrl:""},imgLoadError:!1,uploadFile:null,imgBoxHover:!1,submitLoading:!1,rules:{imgUrl:[{required:!0,message:"请上传缩略图",trigger:"change"},{validator:function(t,i,s){if(i){if(""===i)return void s(new Error("请上传缩略图"));if(i.startsWith("https://redive.estertion.win/icon/unit/")&&e.imgLoadError)return void s(new Error("请上传缩略图"));s()}else s()},trigger:"change"}]},isEdit:!1,tempImgUrl:""}},watch:{visible:function(e){this.visible_=e},"form.star":function(e){return this.isEdit&&e===this.value[1].replace("star","")&&this.form.num===this.value[2]?(this.form.imgUrl=this.tempImgUrl,e):this.uploadFile?e:(""===this.form.num?this.form.imgUrl="":this.form.imgUrl="https://redive.estertion.win/icon/unit/"+this.form.num+("3"===e?"3":"1")+"1.webp",e)},"form.num":function(e){return this.isEdit&&e===this.value[2]&&this.form.star===this.value[1].replace("star","")?(this.form.imgUrl=this.tempImgUrl,e):this.uploadFile?e:(this.form.imgUrl=""===e?"":"https://redive.estertion.win/icon/unit/"+e+("3"===this.form.star?"3":"1")+"1.webp",e)}},methods:{dialogOpen:function(){if(this.value){var e=this.value;this.form={type:e[0],star:e[1].replace("star",""),num:e[2],jp_name:e[3],cn_name:e[4],nickNames:e.slice(5).join("|")};var t=this.$cookies.get("curUrlPrefix"),i=t?this.$urlConf[t+"_url"]:this.$urlConf.base_url;this.tempImgUrl=i+"xmbot/resource/icon/unit/"+e[2]+("star3"===e[1]?"3":"1")+"1.jpg",this.form.imgUrl=this.tempImgUrl,this.isEdit=!0}},initForm:function(){this.form={type:"normal",star:"1",num:"",jp_name:"",cn_name:"",nickNames:"",imgUrl:""}},uploadChange:function(e){var t=e.target.files;t.length>0&&"image"===t[0].type.substring(0,5)?(this.uploadFile=t[0],this.form.imgUrl=URL.createObjectURL(t[0])):this.uploadDelete()},uploadDelete:function(){this.uploadFile=null,this.numChange(),this.$refs.uploadInput.value=""},submit:function(){var e=this;this.submitLoading=!0,this.$refs.form.validate(function(t){if(t){var i=new FormData;i.append("type",e.form.type),i.append("star","star"+e.form.star),i.append("num",e.form.num),i.append("jp_name",e.form.jp_name),i.append("cn_name",e.form.cn_name),i.append("nickNames",e.form.nickNames.split("|")),i.append("isEdit",e.isEdit?1:0),e.form.imgUrl.startsWith("https://redive.estertion.win/icon/unit/")||i.append("image",e.uploadFile),(s=i,Object(c.d)({url:"/setting/pcr-nickNames.save",method:"post",data:s,processData:!1,contentType:!1})).then(function(t){0===t.code?e.$message({type:"success",message:t.msg,duration:1e3,onClose:function(){e.visible_=!1,e.$emit("success")}}):e.$message({type:"error",message:t.msg,duration:1e3,onClose:function(){e.submitLoading=!1}})}).catch(function(t){e.submitLoading=!1})}else e.$message.warning("表单验证未通过"),e.submitLoading=!1;var s})}}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{visible:e.visible_,title:e.title?e.title:"添加角色",center:"","close-on-click-modal":!1,"destroy-on-close":"",modal:!1},on:{"update:visible":function(t){e.visible_=t},close:function(t){return e.$emit("update:visible",!1)},closed:e.initForm,open:e.dialogOpen}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",rules:e.rules}},[i("el-form-item",{attrs:{prop:"type",label:"角色类型",rules:[{required:!0,message:"请选择角色类型",trigger:"blur"}]}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[i("el-radio-button",{attrs:{label:"normal"}},[e._v("常驻")]),e._v(" "),i("el-radio-button",{attrs:{label:"limited"}},[e._v("限定")]),e._v(" "),i("el-radio-button",{attrs:{label:"hidden"}},[e._v("隐藏")])],1)],1),e._v(" "),i("el-form-item",{attrs:{prop:"star",label:"角色星级",rules:[{required:!0,message:"请选择角色星级",trigger:"blur"}]}},[i("el-radio-group",{attrs:{size:"small"},model:{value:e.form.star,callback:function(t){e.$set(e.form,"star",t)},expression:"form.star"}},[i("el-radio",{attrs:{label:"1"}},[e._v("★")]),e._v(" "),i("el-radio",{attrs:{label:"2"}},[e._v("★★")]),e._v(" "),i("el-radio",{attrs:{label:"3"}},[e._v("★★★")])],1)],1),e._v(" "),i("el-form-item",{attrs:{prop:"num",label:"数字代号",rules:[{required:!0,message:"请输入角色数字代号",trigger:"blur"}]}},[i("el-input",{attrs:{placeholder:"请输入角色数字代号"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"jp_name",label:"日文名称",rules:[{required:!0,message:"请输入角色日文名称",trigger:"blur"}]}},[i("el-input",{attrs:{placeholder:"请输入角色日文名称"},model:{value:e.form.jp_name,callback:function(t){e.$set(e.form,"jp_name",t)},expression:"form.jp_name"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"cn_name",label:"中文名称",rules:[{required:!0,message:"请输入角色中文名称",trigger:"blur"}]}},[i("el-input",{attrs:{placeholder:"请输入角色中文名称"},model:{value:e.form.cn_name,callback:function(t){e.$set(e.form,"cn_name",t)},expression:"form.cn_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"昵称"}},[i("el-input",{attrs:{placeholder:"请输入角色昵称,多个用分隔号'|'隔开"},model:{value:e.form.nickNames,callback:function(t){e.$set(e.form,"nickNames",t)},expression:"form.nickNames"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"imgUrl",label:"角色预览图"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:null===e.uploadFile,expression:"uploadFile===null"}],staticClass:"upload-img-box",on:{mouseenter:function(t){e.imgBoxHover=!0},mouseleave:function(t){e.imgBoxHover=!1}}},[i("el-image",{staticClass:"img-view",attrs:{src:e.form.imgUrl,fit:"fill"},on:{error:function(t){e.imgLoadError=!0},load:function(t){e.imgLoadError=!1}}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v("\n            加载中"),i("span",[e._v("...")])]),e._v(" "),i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("span",{staticStyle:{"font-size":"12px"}},[e._v("加载失败")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.imgBoxHover,expression:"imgBoxHover"}],staticClass:"upload-img-box-model"},[i("el-row",{staticClass:"model-icon-box"},[i("i",{staticClass:"el-icon-upload model-icon",on:{click:function(t){return e.$refs.uploadInput.click()}}})])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:null!=e.uploadFile,expression:"uploadFile!=null"}],staticClass:"upload-img-box",on:{mouseenter:function(t){e.imgBoxHover=!0},mouseleave:function(t){e.imgBoxHover=!1}}},[i("el-image",{staticClass:"img-view",attrs:{src:e.form.imgUrl,fit:"fill"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.imgBoxHover,expression:"imgBoxHover"}],staticClass:"upload-img-box-model"},[i("el-row",{staticClass:"model-icon-box"},[i("i",{staticClass:"el-icon-upload model-icon",on:{click:function(t){return e.$refs.uploadInput.click()}}}),e._v(" "),i("i",{staticClass:"el-icon-delete model-icon",on:{click:e.uploadDelete}})])],1)],1),e._v(" "),i("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png,image/jpeg"},on:{change:e.uploadChange}})])],1),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.submit}},[e._v("提交")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible_=!1}}},[e._v("取消")])],1)],1)},staticRenderFns:[]};var h=i("VU/8")(p,u,!1,function(e){i("MNDf")},"data-v-fdad45f4",null).exports,d=i("gRE1"),m=i.n(d),f={name:"pcr-characters",props:["visible","width"],components:{"char-card":{name:"char-card",template:"\n    <div style=\"padding:10px 10px 0 10px;display: inline-block\"\n         :style=\"{width:size+'px',height:noName?(size+'px'):(size+30+'px'),paddingBottom:noName?'10px':'0'}\">\n      <el-card shadow=\"hover\" :body-style=\"{padding:0,height:size+'px',position:'relative'}\"\n               :style=\"{width:size+'px',display:'inline-block',borderRadius:radius_+'px',boxShadow:boxShadow}\"\n               @click.native=\"cardClick\">\n        <el-image :class=\"value[0]==='hidden'?'gray':''\" :style=\"{width:size+'px',height:size+'px'}\"\n                  :src=\"getUrl(value[1],value[2])\" fit=\"fill\"></el-image>\n        <el-image v-for=\"i in star\" :key=\"i\" :src=\"getStar()\" fit=\"fill\" style=\"position: absolute;bottom:0\"\n                  :style=\"{width:starSize+'px',height:starSize+'px',left:(i-1)*(starSize*0.6)+'px'}\"></el-image>\n      </el-card>\n      <span\n        style=\"display: block;text-align: center;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;line-height: 20px\"\n        :style=\"{maxWidth:size+'px'}\" v-if=\"!noName\">{{value[4]}}</span>\n    </div>\n  ",props:{width:[String,Number],radius:[String,Number],value:Array,noClick:{type:Boolean,default:!1},noName:{type:Boolean,default:!1}},computed:{size:function(){return this.width?"number"==typeof this.width?this.width:"string"==typeof this.width?this.width.endsWith("px")?Number(this.width.replace("px","")):Number(this.width):void 0:120},radius_:function(){return this.radius?"number"==typeof this.radius?this.radius:"string"==typeof this.radius?this.radius.endsWith("px")?Number(this.radius.replace("px","")):this.radius.endsWith("%")?Number(this.radius.replace("%","")):Number(this.radius):void 0:8},starSize:function(){return this.width?"number"==typeof this.width?(this.width/5).toFixed(0):"string"==typeof this.width?this.width.endsWith("px")?(Number(this.width.replace("px",""))/4).toFixed(0):(Number(this.width)/4).toFixed(0):void 0:30},star:function(){return Number(this.value[1].replace("star",""))},boxShadow:function(){var e="";switch(this.value[0]){case"limited":e="0 0 5px 1px #e6a23c !important";break;case"hidden":e="0 0 5px 1px #e9e9eb !important";break;case"normal":e="0 0 5px 1px #409EFF !important"}return e}},methods:{getUrl:function(e,t){var i=this.$cookies.get("curUrlPrefix");return(i?this.$urlConf[i+"_url"]:this.$urlConf.base_url)+"xmbot/resource/icon/unit/"+t+("star3"===e?"3":"1")+"1.jpg"},getStar:function(){var e=this.$cookies.get("curUrlPrefix");return(e?this.$urlConf[e+"_url"]:this.$urlConf.base_url)+"xmbot/resource/gacha/utils/star.png"},cardClick:function(){this.noClick||this.$emit("char-view")}}},"char-edit":h},data:function(){return{isAdmin:!1,loading:!0,visible_:!1,size:"",nickNames:[],nickNames_:[],search:"",editVisible:!1,curItem:null,itemSelected:!1,charEditTitle:"",editItem:null,star:{star1:"一星",star2:"两星",star3:"三星"},type:{limited:["限定","warning"],hidden:["隐藏","info"],normal:["常驻","primary"]},changed:!1,typeFilter:["limited","hidden","normal"],typeFilterOps:[{value:"limited",label:"限定"},{value:"hidden",label:"隐藏"},{value:"normal",label:"常驻"}],starFilter:["star1","star2","star3"],starFilterOps:[{value:"star1",label:"一星"},{value:"star2",label:"两星"},{value:"star3",label:"三星"}]}},watch:{visible:function(e){this.visible_=e},width:function(e){this.size=e>900?"900px":"100%"}},methods:{getNickNames:function(){var e=this;this.loading=!0,Object(c.d)({url:"/setting/pcr/nickNames.json",method:"get"}).then(function(t){e.nickNames=m()(t.data),e.nickNames_=e.nickNames,e.loading=!1}).catch(function(e){})},searchChange:function(e){this.nickNames_=""===e?this.nickNames:this.nickNames.filter(function(t){return t.slice(2).some(function(t){return t.indexOf(e)>-1})})},charView:function(e){this.curItem===e?this.viewClose():(this.itemSelected=!0,this.curItem=e)},viewClose:function(){this.itemSelected=!1,this.curItem=null},editSuccess:function(){this.changed=!0,this.viewClose(),this.getNickNames()},charAdd:function(){this.editVisible=!0,this.charEditTitle="添加角色"},charEdit:function(){this.editVisible=!0,this.charEditTitle="编辑角色",this.editItem=this.curItem},charDelete:function(){var e=this;this.$confirm("是否删除角色?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t;(t={num:e.curItem[2]},Object(c.d)({url:"/setting/pcr/delCharacter.do",method:"post",data:t})).then(function(t){0===t.code?(e.changed=!0,e.$message({type:"success",duration:1e3,message:t.msg,onClose:function(){e.getNickNames(),e.viewClose()}})):e.$message.error(t.msg)}).catch(function(){})})},drawerClose:function(){this.$emit("close",this.changed)}},created:function(){var e=this;this.$route.meta.auth&&this.checkAuth().then(function(){e.checkAdmin().then(e.isAdmin=!0)}).catch(function(t){return e.$router.push(t)})}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{staticClass:"chars-drawer",attrs:{modal:!0,title:"角色一览",visible:e.visible_,"append-to-body":!0,size:e.size,wrapperClosable:!1,"destroy-on-close":""},on:{"update:visible":function(t){e.visible_=t},close:e.drawerClose,open:e.getNickNames}},[i("el-row",{staticClass:"tool-nav"},[i("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"输入名称筛选"},on:{input:e.searchChange},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),i("el-checkbox-group",{staticClass:"check-box-group",attrs:{size:"small"},on:{change:e.viewClose},model:{value:e.typeFilter,callback:function(t){e.typeFilter=t},expression:"typeFilter"}},e._l(e.typeFilterOps,function(t,s){return i("el-checkbox-button",{key:s,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1),e._v(" "),i("el-checkbox-group",{staticClass:"check-box-group",attrs:{size:"small"},on:{change:e.viewClose},model:{value:e.starFilter,callback:function(t){e.starFilter=t},expression:"starFilter"}},e._l(e.starFilterOps,function(t,s){return i("el-checkbox-button",{key:s,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1),e._v(" "),e.isAdmin?i("el-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{content:"添加角色",placement:"top"}},[i("el-button",{staticClass:"el-icon-plus",attrs:{type:"success",size:"small",circle:""},on:{click:e.charAdd}})],1):e._e()],1),e._v(" "),i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"char-boxes",style:{height:e.itemSelected?"calc(100% - 200px)":"calc(100% - 60px)"}},e._l(e.nickNames_,function(t,s){return i("char-card",{directives:[{name:"show",rawName:"v-show",value:e.typeFilter.indexOf(t[0])>-1&&e.starFilter.indexOf(t[1])>-1,expression:"typeFilter.indexOf(item[0])>-1&&starFilter.indexOf(item[1])>-1"}],key:s,staticClass:"char-card",attrs:{width:"100",value:t},on:{"char-view":function(i){return e.charView(t)}}})}),1),e._v(" "),e.itemSelected?i("el-row",{staticClass:"char-view-box"},[i("char-card",{attrs:{value:e.curItem,width:"120",noClick:"",noName:""}}),e._v(" "),i("div",{staticClass:"char-view-info-box"},[i("el-row",{staticClass:"char-view-info-line"},[i("span",[e._v(e._s(this.curItem[3])+"/")]),e._v(" "),i("span",[e._v(e._s(this.curItem[4]))])]),e._v(" "),i("el-row",{staticClass:"char-view-info-line"},[i("el-tag",{attrs:{type:e.type[this.curItem[0]][1],size:"small"}},[e._v(e._s(e.type[this.curItem[0]][0]))]),e._v(" "),i("span",[e._v(e._s(e.star[this.curItem[1]]))]),e._v(" "),i("span",[e._v(e._s(this.curItem[2]))])],1),e._v(" "),i("el-row",{staticClass:"char-view-info-line"},[i("span",[e._v(e._s(this.curItem.slice(5).join("/")))])])],1),e._v(" "),e.isAdmin?i("div",{staticClass:"char-view-box-tool"},[i("el-tooltip",{attrs:{content:"删除角色",placement:"bottom"}},[i("el-button",{attrs:{icon:"el-icon-delete",circle:"",size:"mini",type:"danger"},on:{click:e.charDelete}})],1),e._v(" "),i("el-tooltip",{attrs:{content:"编辑角色",placement:"bottom"}},[i("el-button",{attrs:{icon:"el-icon-edit",circle:"",size:"mini",type:"primary"},on:{click:function(t){return e.charEdit()}}})],1),e._v(" "),i("el-tooltip",{attrs:{content:"关闭",placement:"bottom"}},[i("el-button",{attrs:{icon:"el-icon-close",circle:"",size:"mini"},on:{click:e.viewClose}})],1)],1):e._e()],1):e._e(),e._v(" "),i("char-edit",{attrs:{visible:e.editVisible,title:e.charEditTitle,value:e.editItem},on:{"update:visible":function(t){e.editVisible=t},success:e.editSuccess}})],1)},staticRenderFns:[]};var v={name:"pcr-pool-setting",components:{"char-edit":h,"chars-view":i("VU/8")(f,_,!1,function(e){i("tgyO")},"data-v-6c613748",null).exports},data:function(){return{fullWidth:0,isAdmin:!1,charsVisible:!1,loading:!0,imgWidth:{width:"96px"},spanStyle:{fontSize:"12px",height:"18px",lineHeight:"18px"},bodyStyle:{padding:"15px 5px"},profiles:{settings:null,pools:null,character:null},nickName_on:!1,prop_on:!1,hidden_unsel:!1,character:null,sel_normal:null,sel_pick_up:null,pool_prop:null,charNames:null,activePool:"pool_jp",poolName:{pool_jp:"日服卡池",pool_tw:"台服卡池",pool_cn:"国服卡池",others:"其他设置"},activeStars:{pool_jp:["star3"],pool_tw:["star3"],pool_cn:["star3"]},poolTitle:{star3:"SSR",star2:"SR",star1:"R",hidden:"Hidden"},drawer:!1,checkTop:!1,lang_cn:!1,inputVisible_1:!1,inputValue_1:"",inputVisible_2:!1,inputValue_2:"",inputVisible_3:!1,inputValue_3:"",inputVisible_4:!1,inputValue_4:"",inputVisible_5:!1,inputValue_5:""}},computed:{suf:function(){return this.star<3?1:3},lang:function(){return this.lang_cn?1:0}},mounted:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},beforeDestroy:function(){this.handleResize()},methods:{handleResize:function(){this.fullWidth=document.documentElement.clientWidth,this.fullWidth>900?(this.imgWidth.width="96px",this.checkTop=!0,this.spanStyle={fontSize:"12px",height:"18px",lineHeight:"18px"},this.tabPosition="top",this.bodyStyle.padding="20px",this.poolName={pool_jp:"日服卡池",pool_tw:"台服卡池",pool_cn:"国服卡池",others:"其他设置"}):(this.imgWidth.width="72px",this.checkTop=!1,this.spanStyle={fontSize:"9px",height:"16px",lineHeight:"16px"},this.tabPosition="left",this.bodyStyle.padding="15px 5px",this.poolName={pool_jp:"JP",pool_tw:"TW",pool_cn:"CN",others:""})},getSettings:function(){var e=this,t=this;Object(c.d)({url:"/setting/pcr.json",method:"get"}).then(function(t){return e.profiles.settings=t.data}),Object(c.d)({url:"/setting/pcr/pools.json",method:"get"}).then(function(e){t.profiles.pools=e.data,Object(c.d)({url:"/setting/pcr/character.json",method:"get"}).then(function(i){t.profiles.character=i.data;var s=e.data,n=i.data,r={pool_jp:{},pool_tw:{},pool_cn:{}},a={},c={pool_jp:{star1:[],star2:[],star3:[]},pool_tw:{star1:[],star2:[],star3:[]},pool_cn:{star1:[],star2:[],star3:[]}},p={pool_jp:{star1:{},star2:{},star3:{}},pool_tw:{star1:{},star2:{},star3:{}},pool_cn:{star1:{},star2:{},star3:{}}},u={pool_jp:{star1:0,star2:0,star3:0},pool_tw:{star1:0,star2:0,star3:0},pool_cn:{star1:0,star2:0,star3:0}};for(var h in r){var d={star1:{pool:{}},star2:{pool:{}},star3:{pool:{}}};for(var m in r[h]=JSON.parse(l()(n)),s[h].pools)if(s[h].pools.hasOwnProperty(m)&&m.length>6)for(var f=s[h].pools[m],_=String(f.prefix).split("★").length-1,v=0;v<f.pool.length;v++)d["star"+_].pool[f.pool[v]]={prop:f.prop/f.pool.length,prop_last:f.prop_last/f.pool.length,free_stone:-1!==f.free_stone.indexOf(f.pool[v])};for(var g in n)if(n.hasOwnProperty(g))for(var b in n[g])if(n[g].hasOwnProperty(b))for(var k in n[g][b])if(n[g][b].hasOwnProperty(k)){u[h][b]=s[h].pools[b].prop;var x=!1,y=0,w=0,C=!1,N=!1;if(-1!==s[h].pools[b].pool.indexOf(k))x=!0,c[h][b].push(k),y=s[h].pools[b].prop/s[h].pools[b].pool.length/10,w=s[h].pools[b].prop_last/s[h].pools[b].pool.length/10;else if(d[b].pool&&-1!==o()(d[b].pool).indexOf(k)){x=!0,y=d[b].pool[k].prop/10,w=d[b].pool[k].prop_last/10,C=!0,N=d[b].pool[k].free_stone,p[h][b][k]={prop:y.toFixed(3),free_stone:N}}y=y.toFixed(3)+"%",w=w.toFixed(3)+"%",r[h][g][b][k]={id:k,name:n[g][b][k],sel:x,prop:y,prop_last:w,pick_up:C,free_stone:N},a[k]||(a[k]=n[g][b][k])}}t.character=r,t.sel_normal=c,t.sel_pick_up=p,t.pool_prop=u,t.charNames=a,t.loading=!1})})},prop_computed:function(e,t,i,s,n,r){return e?t?this.sel_pick_up[i][s][r].prop+"%":(this.pool_prop[i][s]/this.sel_normal[i][s].length/10).toFixed(3)+"%":"0.000%"},getSrc:function(e,t){var i=this.$cookies.get("curUrlPrefix");return(i?this.$urlConf[i+"_url"]:this.$urlConf.base_url)+"xmbot/resource/icon/unit/"+e.id+("star3"===t?"3":"1")+"1.jpg"},toggleSel:function(e,t,i,s){if(this.character[e][t][i][s].sel=!this.character[e][t][i][s].sel,this.character[e][t][i][s].sel)this.sel_normal[e][i].push(s);else if(this.character[e][t][i][s].pick_up)this.character[e][t][i][s].pick_up=!1,delete this.sel_pick_up[e][i][s],this.handlePickProp(e,t,i,s);else{var n=this.sel_normal[e][i].indexOf(s);this.sel_normal[e][i].splice(n,1)}},togglePickCheck:function(e,t,i,s){var n=this,r=0,a=!1;if("star2"===i&&!this.character[e][t][i][s].pick_up){var l=o()(this.sel_pick_up[e][i]);l.length>=1&&(a=!0,r=5/(l.length+1),this.$prompt("请输入概率:","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:r.toFixed(3),inputValidator:function(e){return!!(/[0-9]*[.][0-9]{3}/.test(e)&&Number(e)-5<0&&Number(e)>0)||"请输入大于0,小于5的三位小数"}}).then(function(o){var a=o.value;r=a,n.togglePick(e,t,i,s,r)}).catch(function(e){}))}a||this.togglePick(e,t,i,s,r)},togglePick:function(e,t,i,s,n){if(this.character[e][t][i][s].pick_up=!this.character[e][t][i][s].pick_up,this.character[e][t][i][s].pick_up){var r=this.sel_normal[e][i].indexOf(s);this.sel_normal[e][i].splice(r,1),this.sel_pick_up[e][i][s]=0===n?{prop:0,free_stone:!1}:{prop:n,free_stone:!1},this.character[e][t][i][s].prop=Number(this.sel_pick_up[e][i][s].prop).toFixed(3)+"%"}else this.sel_normal[e][i].push(s),this.character[e][t][i][s].prop=Number(this.sel_pick_up[e][i][s].prop).toFixed(3)+"%",this.character[e][t][i][s].free_stone=!1,delete this.sel_pick_up[e][i][s];this.handlePickProp(e,t,i,s)},handlePickProp:function(e,t,i,s){if("star3"===i){var r=(7/o()(this.sel_pick_up[e][i]).length/10).toFixed(3),a=!0,l=!1,c=void 0;try{for(var p,u=n()(o()(this.sel_pick_up[e][i]));!(a=(p=u.next()).done);a=!0){var h=p.value;this.sel_pick_up[e][i][h].prop=r}}catch(e){l=!0,c=e}finally{try{!a&&u.return&&u.return()}finally{if(l)throw c}}this.character[e][t][i][s].prop=r+"%"}else if("star2"===i){var d=0,m=this.character[e][t][i][s].pick_up,f=o()(this.sel_pick_up[e][i]);d=m?1===f.length?"5.000":this.sel_pick_up[e][i][s].prop:0;var _=5;if(!m){_=0;var v=!0,g=!1,b=void 0;try{for(var k,x=n()(f);!(v=(k=x.next()).done);v=!0){var y=k.value;_+=Number(this.sel_pick_up[e][i][y].prop.substr(0,5))}}catch(e){g=!0,b=e}finally{try{!v&&x.return&&x.return()}finally{if(g)throw b}}}var w=!0,C=!1,N=void 0;try{for(var S,O=n()(f);!(w=(S=O.next()).done);w=!0){var F=S.value;if(F!==s){var z=Number(this.sel_pick_up[e][i][F].prop.substr(0,5))/_,P=Number(5-d)*z;this.sel_pick_up[e][i][F].prop=Number(P).toFixed(3)}}}catch(e){C=!0,N=e}finally{try{!w&&O.return&&O.return()}finally{if(C)throw N}}m&&(this.sel_pick_up[e][i][s].prop=d,this.character[e][t][i][s].prop=d+"%")}},toggleFreeSt:function(e,t,i,s){this.sel_pick_up[e][i][s].free_stone=!this.sel_pick_up[e][i][s].free_stone,this.character[e][t][i][s].free_stone=!this.character[e][t][i][s].free_stone},getDateNow:function(){var e=new Date;return 1e8*e.getFullYear()+1e6*(e.getMonth()+1)+(1e4*e.getDate()+100*e.getHours()+e.getMinutes())},showInput:function(e){var t=this;this["inputVisible_"+e]=!0,this.$nextTick(function(i){t.$refs["saveTagInput_"+e].$refs.input.focus()})},inputConfirm:function(e,t){var i=this["inputValue_"+t];""!==i&&this.profiles.settings.reply_info[e].reply.push(i),this["inputVisible_"+t]=!1,this["inputValue_"+t]=""},closeReplaysTag:function(e,t){this.profiles.settings.reply_info[e].reply.splice(t,1)},update:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.getDateNow();if(this.profiles.pools.info.version=s,i)"others"===this.activePool?(e=this.profiles.settings,Object(c.d)({url:"/setting/pcr-setting.save",method:"post",data:e})).then(function(e){0===e.code?t.$message.success("保存成功"):t.$message.error(e.msg)}):(this.handlePools(this.activePool,s),function(e){return Object(c.d)({url:"/setting/pcr-pools.save",method:"post",data:e})}(this.profiles.pools).then(function(e){0===e.code?t.$message.success("保存成功"):t.$message.error(e.msg)}));else{for(var n in this.poolName)"others"!==n&&this.handlePools(n,s);(function(e){return Object(c.d)({url:"/setting/pcr-all.save",method:"post",data:e})})({settings:this.profiles.settings,pools:this.profiles.pools}).then(function(e){0===e.code?t.$message.success("保存成功"):t.$message.error(e.msg)})}},handlePools:function(e,t){var i={star1:{pool:[],prop:795,prop_last:0,name:"1星",prefix:"★"},star2:{pool:[],prop:180,prop_last:975,name:"2星",prefix:"★★"},star3:{pool:[],prop:25,prop_last:25,name:"3星",prefix:"★★★"}};for(var s in i){var r=!0,a=!1,l=void 0;try{for(var c,p=n()(this.sel_normal[e][s]);!(r=(c=p.next()).done);r=!0){var u=c.value;i[s].pool.push(u)}}catch(e){a=!0,l=e}finally{try{!r&&p.return&&p.return()}finally{if(a)throw l}}}if(o()(this.sel_pick_up[e].star3).length>0){for(var h in i.pick_up={pool:[],prop:7,prop_last:7,name:"Pick Up",prefix:"★★★",free_stone:[]},this.sel_pick_up[e].star3)this.sel_pick_up[e].star3.hasOwnProperty(h)&&(i.pick_up.pool.push(h),this.sel_pick_up[e].star3[h].free_stone&&i.pick_up.free_stone.push(h));i.star3.prop-=7,i.star3.prop_last-=7}if(o()(this.sel_pick_up[e].star2).length>0){var d={};for(var m in this.sel_pick_up[e].star2)this.sel_pick_up[e].star2.hasOwnProperty(m)&&(d[10*this.sel_pick_up[e].star2[m].prop]||(d[10*this.sel_pick_up[e].star2[m].prop]=[]),d[10*this.sel_pick_up[e].star2[m].prop].push(m));var f=1;for(var _ in d)i["pick_up"+f]={pool:d[_],prop:Number(_),prop_last:5.4*_,name:"Pick Up",prefix:"★★",free_stone:[]},f++;i.star2.prop-=50,i.star2.prop_last-=270}this.profiles.pools[e].pools=i,this.profiles.pools[e].info.version=t},viewClosed:function(e){this.charsVisible=!1,e&&window.location.reload()}},created:function(){var e=this;this.$route.meta.auth&&this.checkAuth().then(function(){e.checkAdmin().then(e.isAdmin=!0),e.getSettings()}).catch(function(t){return e.$router.push(t)})}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{attrs:{shadow:"hover","body-style":e.bodyStyle}},[i("div",{staticStyle:{position:"relative"},attrs:{slot:"header"},slot:"header"},[i("el-page-header",{attrs:{content:"PCR卡池设置"},on:{back:function(t){return e.$router.push("/index")}}}),e._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{position:"absolute",top:"0",right:"0"}},[e.checkTop?i("span",[i("el-checkbox",{attrs:{label:e.hidden_unsel?"隐藏已选择":"显示已选择"},model:{value:e.hidden_unsel,callback:function(t){e.hidden_unsel=t},expression:"hidden_unsel"}}),e._v(" "),i("el-checkbox",{attrs:{label:e.prop_on?"显示概率":"隐藏概率"},model:{value:e.prop_on,callback:function(t){e.prop_on=t},expression:"prop_on"}}),e._v(" "),i("el-checkbox",{attrs:{label:e.nickName_on?"显示角色名":"隐藏角色名"},model:{value:e.nickName_on,callback:function(t){e.nickName_on=t},expression:"nickName_on"}}),e._v(" "),i("el-checkbox",{attrs:{label:e.lang_cn?"中文昵称":"日文昵称"},model:{value:e.lang_cn,callback:function(t){e.lang_cn=t},expression:"lang_cn"}})],1):i("span",{staticClass:"el-icon-d-arrow-right arrow-down",staticStyle:{transform:"rotate(90deg) scaleY(2)","margin-right":"10px"},on:{click:function(t){e.drawer=!0}}}),e._v(" "),i("span",{staticStyle:{"margin-left":"20px"}},[e.isAdmin?i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.charsVisible=!0}}},[e._v("角色一览")]):e._e(),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.update(!1)}}},[e._v("保存全部")])],1)])],1),e._v(" "),e.character?i("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{stretch:!0},model:{value:e.activePool,callback:function(t){e.activePool=t},expression:"activePool"}},[e._l(e.character,function(t,s,n){return i("el-tab-pane",{key:n,staticClass:"tab-panel-box",attrs:{label:e.poolName[s],name:s}},[i("el-row",{staticStyle:{"margin-bottom":"20px","text-align":"left"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.update(!0)}}},[e._v("保存当页")])],1),e._v(" "),i("el-collapse",{model:{value:e.activeStars[s],callback:function(t){e.$set(e.activeStars,s,t)},expression:"activeStars[n]"}},e._l(e.poolTitle,function(t,n,r){return i("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:"hidden"!==n,expression:"n1!=='hidden'"}],key:r,attrs:{title:t,name:n}},["star3"===n||"star1"===n?i("el-divider",{attrs:{"content-position":"left"}},[e._v("常驻")]):e._e(),e._v(" "),e._l(e.character[s].normal[n],function(t,r,o){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.sel||!t.sel&&!e.hidden_unsel,expression:"v2.sel||(!v2.sel&&!hidden_unsel)"}],staticClass:"char-box",attrs:{title:t.name[e.lang]}},[i("div",{class:t.sel?"img-box":"img-box gray"},[i("img",{style:e.imgWidth,attrs:{src:e.getSrc(t,n),alt:""},on:{click:function(t){return e.toggleSel(s,"normal",n,r)}}}),e._v(" "),"star1"!==n?i("span",{directives:[{name:"show",rawName:"v-show",value:t.sel,expression:"v2.sel"}],class:t.pick_up?"pick-up pick-up-on":"pick-up pick-up-off",style:e.spanStyle,on:{click:function(t){return e.togglePickCheck(s,"normal",n,r)}}},[e._v("Up")]):e._e(),e._v(" "),"star3"===n?i("span",{directives:[{name:"show",rawName:"v-show",value:t.pick_up,expression:"v2.pick_up"}],class:t.free_stone?"free-stone free-stone-on":"free-stone free-stone-off",style:e.spanStyle,on:{click:function(t){return e.toggleFreeSt(s,"normal",n,r)}}},[e._v("+100")]):e._e()]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.nickName_on,expression:"nickName_on"}],style:e.imgWidth,domProps:{textContent:e._s(t.name[e.lang])}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.prop_on,expression:"prop_on"}],style:e.imgWidth,domProps:{textContent:e._s(e.prop_computed(t.sel,t.pick_up,s,n,t.prop,t.id))}})])}),e._v(" "),"star3"===n||"star1"===n?i("el-divider",{attrs:{"content-position":"left"}},[e._v("限定")]):e._e(),e._v(" "),e._l(e.character[s].limited[n],function(t,r,o){return"star3"===n||"star1"===n?i("div",{directives:[{name:"show",rawName:"v-show",value:t.sel||!t.sel&&!e.hidden_unsel,expression:"v2.sel||(!v2.sel&&!hidden_unsel)"}],staticClass:"char-box",attrs:{title:t.name[e.lang]}},[i("div",{class:t.sel?"img-box":"img-box gray"},[i("img",{style:e.imgWidth,attrs:{src:e.getSrc(t,n),alt:""},on:{click:function(t){return e.toggleSel(s,"limited",n,r)}}}),e._v(" "),"star1"!==n?i("span",{directives:[{name:"show",rawName:"v-show",value:t.sel,expression:"v2.sel"}],class:t.pick_up?"pick-up pick-up-on":"pick-up pick-up-off",style:e.spanStyle,on:{click:function(t){return e.togglePickCheck(s,"limited",n,r)}}},[e._v("Up")]):e._e(),e._v(" "),"star3"===n?i("span",{directives:[{name:"show",rawName:"v-show",value:t.pick_up,expression:"v2.pick_up"}],class:t.free_stone?"free-stone free-stone-on":"free-stone free-stone-off",style:e.spanStyle,on:{click:function(t){return e.toggleFreeSt(s,"limited",n,r)}}},[e._v("+100")]):e._e()]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.nickName_on,expression:"nickName_on"}],style:e.imgWidth,domProps:{textContent:e._s(t.name[e.lang])}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.prop_on,expression:"prop_on"}],style:e.imgWidth,domProps:{textContent:e._s(e.prop_computed(t.sel,t.pick_up,s,n,t.prop,t.id))}})]):e._e()}),e._v(" "),e._l(e.character[s].hidden.star1,function(t,s,r){return"hidden"===n?i("div",{directives:[{name:"show",rawName:"v-show",value:t.sel||!t.sel&&!e.hidden_unsel,expression:"v2.sel||(!v2.sel&&!hidden_unsel)"}],staticClass:"char-box",attrs:{title:t.name[e.lang]}},[i("div",{class:t.sel?"img-box":"img-box gray"},[i("img",{staticStyle:{cursor:"not-allowed"},style:e.imgWidth,attrs:{src:e.getSrc(t,n),alt:""}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.sel,expression:"v2.sel"}],class:t.pick_up?"pick-up pick-up-on":"pick-up pick-up-off",style:e.spanStyle},[e._v("Up")]),e._v(" "),"star3"===n?i("span",{directives:[{name:"show",rawName:"v-show",value:t.pick_up,expression:"v2.pick_up"}],class:t.free_stone?"free-stone free-stone-on":"free-stone free-stone-off",style:e.spanStyle},[e._v("+100")]):e._e()]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.nickName_on,expression:"nickName_on"}],style:e.imgWidth,domProps:{textContent:e._s(t.name[e.lang])}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.prop_on,expression:"prop_on"}],style:e.imgWidth,domProps:{textContent:e._s(t.prop)}})]):e._e()})],2)}),1)],1)}),e._v(" "),i("el-tab-pane",{attrs:{name:"others"}},[i("span",{attrs:{slot:"label"},slot:"label"},[""!==e.poolName.others?i("span",{domProps:{textContent:e._s(e.poolName.others)}}):i("i",{staticClass:"el-icon-setting"})]),e._v(" "),i("el-row",{staticStyle:{"margin-bottom":"10px","text-align":"left",padding:"5px 5px"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.update(!0)}}},[e._v("保存当页")])],1),e._v(" "),i("el-form",{staticStyle:{padding:"0 15px"},attrs:{"label-width":"140px","label-position":"left"}},[i("el-form-item",{attrs:{label:"自动更新"}},[i("el-checkbox",{attrs:{label:e.profiles.settings.auto_update?"启用":"禁用"},model:{value:e.profiles.settings.auto_update,callback:function(t){e.$set(e.profiles.settings,"auto_update",t)},expression:"profiles.settings['auto_update']"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"默认卡池"}},[i("el-select",{model:{value:e.profiles.settings.default_pool,callback:function(t){e.$set(e.profiles.settings,"default_pool",t)},expression:"profiles.settings['default_pool']"}},[i("el-option",{attrs:{label:"日服",value:"jp"}}),e._v(" "),i("el-option",{attrs:{label:"台服",value:"tw"}}),e._v(" "),i("el-option",{attrs:{label:"国服",value:"cn"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"抽卡上限"}},[i("el-input-number",{attrs:{min:30,max:600},model:{value:e.profiles.settings.day_limit,callback:function(t){e.$set(e.profiles.settings,"day_limit",t)},expression:"profiles.settings['day_limit']"}})],1),e._v(" "),i("el-divider",{attrs:{"content-position":"left"}},[e._v("下井欧气反馈")]),e._v(" "),i("el-form-item",{attrs:{label:"两个或以上UP角色"}},[e._l(e.profiles.settings.reply_info.r.reply,function(t,s){return i("el-tag",{key:s,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(t){return e.closeReplaysTag("r",s)}}},[i("span",{domProps:{textContent:e._s(t)}})])}),e._v(" "),e.inputVisible_1?i("el-input",{ref:"saveTagInput_1",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(t){return e.inputConfirm("r",1)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inputConfirm("r",1)}},model:{value:e.inputValue_1,callback:function(t){e.inputValue_1=t},expression:"inputValue_1"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(t){return e.showInput(1)}}},[e._v("+ New Reply")])],2),e._v(" "),i("el-form-item",{attrs:{label:"0个UP角色"}},[e._l(e.profiles.settings.reply_info.r0.reply,function(t,s){return i("el-tag",{key:s,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(t){return e.closeReplaysTag("r0",s)}}},[i("span",{domProps:{textContent:e._s(t)}})])}),e._v(" "),e.inputVisible_2?i("el-input",{ref:"saveTagInput_2",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(t){return e.inputConfirm("r0",2)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inputConfirm("r0",2)}},model:{value:e.inputValue_2,callback:function(t){e.inputValue_2=t},expression:"inputValue_2"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(t){return e.showInput(2)}}},[e._v("+ New Reply")])],2),e._v(" "),i("el-form-item",{attrs:{label:"1到3个SSR"}},[e._l(e.profiles.settings.reply_info.r1.reply,function(t,s){return i("el-tag",{key:s,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(t){return e.closeReplaysTag("r1",s)}}},[i("span",{domProps:{textContent:e._s(t)}})])}),e._v(" "),e.inputVisible_3?i("el-input",{ref:"saveTagInput_3",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(t){return e.inputConfirm("r1",3)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inputConfirm("r1",3)}},model:{value:e.inputValue_3,callback:function(t){e.inputValue_3=t},expression:"inputValue_3"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(t){return e.showInput(3)}}},[e._v("+ New Reply")])],2),e._v(" "),i("el-form-item",{attrs:{label:"4到9个SSR"}},[e._l(e.profiles.settings.reply_info.r2.reply,function(t,s){return i("el-tag",{key:s,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(t){return e.closeReplaysTag("r2",s)}}},[i("span",{domProps:{textContent:e._s(t)}})])}),e._v(" "),e.inputVisible_4?i("el-input",{ref:"saveTagInput_4",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(t){return e.inputConfirm("r2",4)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inputConfirm("r2",4)}},model:{value:e.inputValue_4,callback:function(t){e.inputValue_4=t},expression:"inputValue_4"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(t){return e.showInput(4)}}},[e._v("+ New Reply")])],2),e._v(" "),i("el-form-item",{attrs:{label:"10个以上SSR"}},[e._l(e.profiles.settings.reply_info.r3.reply,function(t,s){return i("el-tag",{key:s,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(t){return e.closeReplaysTag("r3",s)}}},[i("span",{domProps:{textContent:e._s(t)}})])}),e._v(" "),e.inputVisible_5?i("el-input",{ref:"saveTagInput_5",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(t){return e.inputConfirm("r3",5)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.inputConfirm("r3",5)}},model:{value:e.inputValue_5,callback:function(t){e.inputValue_5=t},expression:"inputValue_5"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(t){return e.showInput(5)}}},[e._v("+ New Reply")])],2)],1)],1)],2):e._e(),e._v(" "),i("el-drawer",{attrs:{"with-header":!1,visible:e.drawer,direction:"ttb",size:"110px","modal-append-to-body":!1},on:{"update:visible":function(t){e.drawer=t}}},[i("div",{staticStyle:{padding:"20px"}},[i("div",{staticClass:"check-box-div"},[i("el-switch",{attrs:{"active-text":e.hidden_unsel?"隐藏已选择":"显示已选择"},model:{value:e.hidden_unsel,callback:function(t){e.hidden_unsel=t},expression:"hidden_unsel"}}),e._v(" "),i("el-switch",{attrs:{"active-text":e.prop_on?"显示概率":"隐藏概率"},model:{value:e.prop_on,callback:function(t){e.prop_on=t},expression:"prop_on"}})],1),e._v(" "),i("div",{staticClass:"check-box-div"},[i("el-switch",{attrs:{"active-text":e.nickName_on?"显示角色名":"隐藏角色名"},model:{value:e.nickName_on,callback:function(t){e.nickName_on=t},expression:"nickName_on"}}),e._v(" "),i("el-switch",{attrs:{"active-text":e.lang_cn?"中文昵称":"日文昵称"},model:{value:e.lang_cn,callback:function(t){e.lang_cn=t},expression:"lang_cn"}})],1)])]),e._v(" "),i("chars-view",{attrs:{visible:e.charsVisible,width:e.fullWidth},on:{"update:visible":function(t){e.charsVisible=t},"update:width":function(t){e.fullWidth=t},close:e.viewClosed}})],1)},staticRenderFns:[]};var b=i("VU/8")(v,g,!1,function(e){i("7RIz")},"data-v-0bf8491a",null);t.default=b.exports},MNDf:function(e,t){},TmV0:function(e,t,i){i("fZOM"),e.exports=i("FeBl").Object.values},fZOM:function(e,t,i){var s=i("kM2E"),n=i("mbce")(!1);s(s.S,"Object",{values:function(e){return n(e)}})},fZjL:function(e,t,i){e.exports={default:i("jFbC"),__esModule:!0}},fxRn:function(e,t,i){i("+tPU"),i("zQR9"),e.exports=i("g8Ux")},g8Ux:function(e,t,i){var s=i("77Pl"),n=i("3fs2");e.exports=i("FeBl").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return s(t.call(e))}},gRE1:function(e,t,i){e.exports={default:i("TmV0"),__esModule:!0}},jFbC:function(e,t,i){i("Cdx3"),e.exports=i("FeBl").Object.keys},mbce:function(e,t,i){var s=i("+E39"),n=i("lktj"),r=i("TcQ7"),o=i("NpIQ").f;e.exports=function(e){return function(t){for(var i,a=r(t),l=n(a),c=l.length,p=0,u=[];c>p;)i=l[p++],s&&!o.call(a,i)||u.push(e?[i,a[i]]:a[i]);return u}}},mvHQ:function(e,t,i){e.exports={default:i("qkKv"),__esModule:!0}},qkKv:function(e,t,i){var s=i("FeBl"),n=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},tgyO:function(e,t){},uqUo:function(e,t,i){var s=i("kM2E"),n=i("FeBl"),r=i("S82l");e.exports=function(e,t){var i=(n.Object||{})[e]||Object[e],o={};o[e]=t(i),s(s.S+s.F*r(function(){i(1)}),"Object",o)}}});
//# sourceMappingURL=0.0ae8ffa61d6150607423.js.map