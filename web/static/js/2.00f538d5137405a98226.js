webpackJsonp([2],{PFD5:function(t,e){},mvHQ:function(t,e,i){t.exports={default:i("qkKv"),__esModule:!0}},qdI8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("mvHQ"),l=i.n(s),n=i("gyMJ"),a={name:"rss-setting",data:function(){return{isAdmin:!1,setting:{},loading:!1,testLoading:!1,testVisible:!1,testTitle:"",testResult:{body:"",line:""}}},methods:{sourceTest:function(t,e){var i,s=this;this.false=!0,(i={source:t,proxy:e},Object(n.d)({url:"/rss/source/test.do",method:"get",params:i})).then(function(e){0===e.code?(s.testTitle=t,s.testResult=e.data,s.testVisible=!0):s.$message.error(e.msg),s.testLoading=!1}).catch(function(t){})},getJsonFormat:function(t){return t&&""!==t?l()(t,null,4):""}},created:function(){var t=this;this.loading=!0,this.checkAdmin().then(this.isAdmin=!0).catch(function(){t.isAdmin=!1}),Object(n.d)({url:"/setting/rss.json",method:"get"}).then(function(e){t.setting=e.data,t.loading=!1}).catch(function(t){})}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[t.loading?t._e():i("el-form",{ref:"form",attrs:{model:t.setting,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"初始化时间"}},[i("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1,size:"small",disabled:!t.isAdmin},model:{value:t.setting.initial_time.time,callback:function(e){t.$set(t.setting.initial_time,"time",e)},expression:"setting['initial_time']['time']"}}),t._v(" "),i("el-select",{staticStyle:{width:"60px"},attrs:{size:"small",disabled:!t.isAdmin},model:{value:t.setting.initial_time.units,callback:function(e){t.$set(t.setting.initial_time,"units",e)},expression:"setting['initial_time']['units']"}},[i("el-option",{attrs:{label:"时",value:"hours"}}),t._v(" "),i("el-option",{attrs:{label:"分",value:"minutes"}}),t._v(" "),i("el-option",{attrs:{label:"秒",value:"seconds"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"循环时间"}},[i("el-input-number",{staticStyle:{width:"100px"},attrs:{controls:!1,size:"small",disabled:!t.isAdmin},model:{value:t.setting.interval.time,callback:function(e){t.$set(t.setting.interval,"time",e)},expression:"setting['interval']['time']"}}),t._v(" "),i("el-select",{staticStyle:{width:"60px"},attrs:{size:"small",disabled:!t.isAdmin},model:{value:t.setting.interval.units,callback:function(e){t.$set(t.setting.interval,"units",e)},expression:"setting['interval']['units']"}},[i("el-option",{attrs:{label:"时",value:"hours"}}),t._v(" "),i("el-option",{attrs:{label:"分",value:"minutes"}}),t._v(" "),i("el-option",{attrs:{label:"秒",value:"seconds"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"推送列表"}},[i("xm-info-box",{attrs:{title:"群聊"}},[i("xm-tags",{attrs:{value:t.setting.push_list.group,disabled:!t.isAdmin},on:{"update:value":function(e){return t.$set(t.setting.push_list,"group",e)}}})],1),t._v(" "),i("xm-info-box",{attrs:{title:"私聊"}},[i("xm-tags",{attrs:{value:t.setting.push_list.user,disabled:!t.isAdmin},on:{"update:value":function(e){return t.$set(t.setting.push_list,"user",e)}}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"订阅源"}},t._l(t.setting.rss,function(e,s){return i("xm-info-box",{key:s,attrs:{editable:t.isAdmin,retractable:"",title:e.title},on:{"update:title":function(i){return t.$set(e,"title",i)}}},[i("el-form",{staticClass:"rss-form-box",attrs:{"label-width":"80px"}},[i("el-form-item",{staticClass:"inline-block",staticStyle:{width:"200px"},attrs:{label:"启用"}},[i("el-switch",{attrs:{"active-color":"#13ce66",disabled:!t.isAdmin},model:{value:e.on,callback:function(i){t.$set(e,"on",i)},expression:"item.on"}})],1),t._v(" "),i("el-form-item",{staticClass:"inline-block",attrs:{label:"启用代理"}},[i("el-switch",{attrs:{"active-color":"#13ce66",disabled:!t.isAdmin},model:{value:e.proxy,callback:function(i){t.$set(e,"proxy",i)},expression:"item.proxy"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"源网址"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:e.source,callback:function(i){t.$set(e,"source",i)},expression:"item.source"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-s-promotion",loading:t.testLoading},on:{click:function(i){return t.sourceTest(e.source,e.proxy)}},slot:"append"},[t._v("测试")])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"键名"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"item.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"关键词"}},[i("xm-tags",{attrs:{value:e.name_filter,disabled:!t.isAdmin},on:{"update:value":function(i){return t.$set(e,"name_filter",i)}}})],1),t._v(" "),i("el-form-item",{attrs:{label:"提取链接"}},[i("el-input",{attrs:{readonly:!t.isAdmin},model:{value:e.link_replace,callback:function(i){t.$set(e,"link_replace",i)},expression:"item['link_replace']"}})],1),t._v(" "),i("el-form-item",{staticClass:"not-margin",attrs:{label:"推送列表"}},[i("xm-info-box",{attrs:{title:"群聊"}},[i("el-checkbox",{attrs:{disabled:!t.isAdmin,checked:"all"===e.push_group||!e.push_group instanceof Array,label:"全局推送"},on:{change:function(t){e.push_group=t?"all":[]}}}),t._v(" "),"all"!==e.push_group?i("xm-tags",{attrs:{value:e.push_group,disabled:!t.isAdmin},on:{"update:value":function(i){return t.$set(e,"push_group",i)}}}):t._e()],1),t._v(" "),i("xm-info-box",{attrs:{title:"私聊"}},[i("el-checkbox",{attrs:{disabled:!t.isAdmin,checked:"all"===e.push_user||!e.push_user instanceof Array,label:"全局推送"},on:{change:function(t){e.push_user=t?"all":[]}}}),t._v(" "),"all"!==e.push_user?i("xm-tags",{attrs:{value:e.push_user,disabled:!t.isAdmin},on:{"update:value":function(i){return t.$set(e,"push_user",i)}}}):t._e()],1)],1)],1)],1)}),1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.testVisible,title:t.testTitle,center:""},on:{"update:visible":function(e){t.testVisible=e}}},[i("el-collapse",{staticClass:"test-box"},[i("el-collapse-item",{attrs:{title:"body"}},[i("pre",[t._v(t._s(t.testResult.body))])]),t._v(" "),i("el-collapse-item",{attrs:{title:"line"}},[i("pre",[t._v(t._s(t.testResult.line))])])],1)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(a,o,!1,function(t){i("PFD5")},"data-v-507b0f2f",null);e.default=r.exports},qkKv:function(t,e,i){var s=i("FeBl"),l=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return l.stringify.apply(l,arguments)}}});
//# sourceMappingURL=2.00f538d5137405a98226.js.map