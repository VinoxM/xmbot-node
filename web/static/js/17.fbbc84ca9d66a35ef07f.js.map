{"version":3,"sources":["webpack:///src/components/others/socket-chat.vue","webpack:///./src/components/others/socket-chat.vue?eafe","webpack:///./src/components/others/socket-chat.vue"],"names":["socket_chat","name","data","loading","imgSuffix","ws","textArea","altEnter","inputErr","activeTab","chatLog","curBox","height","scrollTop","scrollHeight","hideInput","computed","isAdmin","this","$store","state","ws_","$ws","chatLog_","wsStatus","ready","isConnecting","wsColor","watch","val","handler","getChatLog","deep","changeCurBox","hasOwnProperty","hasNew","scrollToBottom","methods","wsConnect","connect","scrollChange","e","target","offsetHeight","contentScroll","flag","chatBox","document","getElementsByClassName","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","box","value","err","return","hideInputToggle","needScroll","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_this","chat","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","keys_default","group","key","rows","map","o","message","msgFormat","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","private","_key","keys","some","_this2","$nextTick","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_this3","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","newCount","dateFormat","d","date","Date","getFullYear","getMonth","getDate","String","getHours","padStart","getMinutes","getSeconds","msg","atS","replaceAll","indexOf","atStr","substring","atE","CQ","at","replace","curUrlPrefix","$cookies","get","urlPrefix","$urlConf","imgFormat","split","cqS","cqStr","cqE","urlS","urlStr","url","substr","sp","startsWith","fileS","fileStr","_url","sendSubmit","_this4","receiver","toLowerCase","reply","params","message_type","apiName","$ajax","method","then","res","sendInit","getMore","type","id","index","moreLoading","created","_this5","$route","meta","auth","checkAuth","catch","$router","push","$destroy","$options","others_socket_chat","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticClass","attrs","on","click","_v","_s","_e","tab-position","model","callback","$$v","_l","slot","staticStyle","vertical-align","max","$event","ref","refInFor","class","scroll","disabled","noMore","item","k","content","user_id","placement","domProps","innerHTML","readonly","placeholder","maxlength","show-word-limit","nativeOn","keypress","_k","keyCode","preventDefault","keydown","altKey","ctrlKey","size","icon","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.fbbc84ca9d66a35ef07f.js","sourcesContent":["<template>\n  <div v-loading=\"loading\">\n    <el-row class=\"text-center chat-header\">\n      <el-link :type=\"wsColor\" @click=\"wsConnect\">{{wsStatus}}</el-link>\n    </el-row>\n    <div class=\"chat-divider\"></div>\n    <el-tabs tab-position=\"left\" v-if=\"!loading\" class=\"chat-box\" v-model=\"activeTab\">\n      <el-tab-pane v-for=\"(val,key,index) of chatLog\" :key=\"index\" class=\"chat-box-tabs\" :name=\"key\">\n        <div slot=\"label\">\n          <span v-if=\"val.newCount===0\">{{key}}</span>\n          <el-badge v-else :value=\"val.newCount\" :max=\"99\" style=\"vertical-align: top\">\n            <span>{{key}}</span>\n          </el-badge>\n        </div>\n        <div class=\"chat-box-scroll scroll-to-top\" v-show=\"curBox.scrollTop>200\" @click=\"contentScroll(true)\">\n          <i class=\"el-icon-caret-top\"></i>\n        </div>\n        <div :class=\"hideInput?'chat-box-content content-tall':'chat-box-content'\" ref=\"chatBox\" @scroll=\"scrollChange\">\n          <el-row class=\"chat-box-more\">\n            <el-link type=\"info\" @click=\"getMore\" :disabled=\"val.noMore\">\n              {{val.noMore?'没有更多':'加载更多'}}\n            </el-link>\n          </el-row>\n          <el-row v-for=\"(item,k) of val.rows\" :key=\"k\" :class=\"item['is_self']?'chat-box-row-self':'chat-box-row'\">\n            <div :class=\"item['is_self']?'chat-item-self':'chat-item'\">\n              <div :class=\"item['is_self']?'text-right chat-item-title':'chat-item-title'\">\n                <el-tooltip :content=\"item.user_id\" placement=\"top\">\n                  <el-link class=\"chat-item-user\">{{item['nick_name']}}</el-link>\n                </el-tooltip>\n                <span class=\"chat-item-time\"> [{{dateFormat(item['send_time'])}}]</span>\n              </div>\n              <p v-html=\"item.message\" class=\"chat-item-content\"></p>\n            </div>\n          </el-row>\n        </div>\n        <div :class=\"hideInput?'chat-box-scroll scroll-to-bottom-tall':'chat-box-scroll scroll-to-bottom'\"\n             v-show=\"curBox.scrollHeight-curBox.scrollTop > curBox.height+200\"\n             @click=\"contentScroll(false)\">\n          <i class=\"el-icon-caret-bottom\"></i>\n        </div>\n        <div :class=\"hideInput?'chat-divider-tall':'chat-divider'\">\n          <span v-if=\"hideInput\" class=\"input-open-btn\" @click=\"hideInputToggle(false)\">\n            <i class=\"el-icon-d-arrow-left\"></i>\n          </span>\n        </div>\n        <div class=\"chat-box-input\" v-show=\"!hideInput\">\n          <el-input :readonly=\"!isAdmin\" type=\"textarea\" :rows=\"6\" :placeholder=\"isAdmin?'请输入内容':'权限不足'\"\n                    v-model=\"textArea\"\n                    maxlength=\"250\" show-word-limit\n                    :class=\"inputErr?'chat-input-textarea border-err':'chat-input-textarea'\"\n                    @keypress.enter.native.prevent=\"sendSubmit\"\n                    @keydown.alt.enter.native=\"textArea += '\\n'\"\n                    @keydown.ctrl.enter.native=\"textArea += '\\n'\"\n          ></el-input>\n          <div class=\"chat-box-input-btn\">\n            <span class=\"chat-input-err\" v-show=\"inputErr\">未输入内容</span>\n            <el-button class=\"icon-translate-90\" size=\"small\" icon=\"el-icon-d-arrow-right\"\n                       @click=\"hideInputToggle(true)\">收起\n            </el-button>\n            <el-button size=\"small\" icon=\"el-icon-delete\" @click=\"sendInit\" :disabled=\"!isAdmin\">清空</el-button>\n            <el-button size=\"small\" type=\"primary\" icon=\"el-icon-check\" @click=\"sendSubmit\" :disabled=\"!isAdmin\">发送\n            </el-button>\n          </div>\n        </div>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"home\",\n    data() {\n      return {\n        loading: true,\n        imgSuffix: ['jpg', 'jpeg', 'png', 'gif'],\n        ws: {},\n        textArea: '',\n        altEnter: false,\n        inputErr: false,\n        activeTab: '',\n        chatLog: {},\n        curBox: {\n          height: 0,\n          scrollTop: 0,\n          scrollHeight: 0\n        },\n        hideInput: false\n      }\n    },\n    computed: {\n      isAdmin() {\n        return this.$store.state.isAdmin\n      },\n      ws_() {\n        return this.$ws\n      },\n      chatLog_() {\n        return this.$store.state.chatLog\n      },\n      wsStatus() {\n        if (this.ws.ready) {\n          return '已连接到服务器'\n        } else if (this.ws.isConnecting) {\n          return '连接服务器中'\n        } else {\n          return '未连接到服务器'\n        }\n      },\n      wsColor() {\n        if (this.ws.ready) {\n          return 'success'\n        } else if (this.ws.isConnecting) {\n          return 'info'\n        } else {\n          return 'danger'\n        }\n      }\n    },\n    watch: {\n      ws_(val) {\n        this.ws = val\n      },\n      textArea(val) {\n        if (val !== '' && this.inputErr) {\n          this.inputErr = false\n        }\n      },\n      chatLog_: {\n        handler(val) {\n          this.getChatLog(val)\n        },\n        deep: true\n      },\n      activeTab(val) {\n        this.changeCurBox()\n        if (this.chatLog[val] && this.chatLog[val].hasOwnProperty('hasNew') && this.chatLog[val].hasNew) this.scrollToBottom()\n      }\n    },\n    methods: {\n      wsConnect() {\n        if (this.ws.ready || this.ws.isConnecting) {\n          return\n        }\n        this.ws.connect(this)\n      },\n      scrollChange(e) {\n        let target = e.target\n        this.curBox.height = target.offsetHeight\n        this.curBox.scrollTop = target.scrollTop\n        this.curBox.scrollHeight = target.scrollHeight\n      },\n      contentScroll(flag) {\n        let chatBox = document.getElementsByClassName('chat-box-content')\n        if (chatBox.length > 0) {\n          for (const box of chatBox) {\n            if (box.offsetHeight > 0) {\n              box.scrollTop = flag ? 0 : (box.scrollHeight - box.offsetHeight)\n              this.curBox.height = box.offsetHeight\n              this.curBox.scrollTop = box.scrollTop\n              this.curBox.scrollHeight = box.scrollHeight\n              break\n            }\n          }\n        }\n      },\n      hideInputToggle(val) {\n        let needScroll = false\n        if (!val) {\n          let chatBox = document.getElementsByClassName('chat-box-content')\n          if (chatBox.length > 0) {\n            for (const box of chatBox) {\n              if (box.offsetHeight > 0) {\n                needScroll = box.scrollHeight - box.offsetHeight <= box.scrollTop\n                break\n              }\n            }\n          }\n        }\n        this.hideInput = val\n        if (needScroll) {\n          this.scrollToBottom()\n        }\n      },\n      getChatLog(chatLog_) {\n        if (!chatLog_) {\n          this.chatLog = {}\n          return\n        }\n        const chat = {}\n        for (const key of Object.keys(chatLog_.group)) {\n          chatLog_.group[key].rows.map(o=>{\n            o.message = this.msgFormat(o.message)\n            return o\n          })\n          chat[`Group-${key}`] = chatLog_.group[key]\n        }\n        for (const key of Object.keys(chatLog_.private)) {\n          chatLog_.private[key].rows.map(o=>{\n            o.message = this.msgFormat(o.message)\n            return o\n          })\n          chat[`Private-${key}`] = chatLog_.private[key]\n        }\n        const keys = Object.keys(chat)\n        if (!keys.some(o => o === this.activeTab)) {\n          this.activeTab = keys[0]\n        }\n        this.chatLog = chat\n        this.changeCurBox()\n        if (this.chatLog[this.activeTab] && this.chatLog[this.activeTab].hasNew) this.scrollToBottom()\n      },\n      changeCurBox() {\n        this.$nextTick(() => {\n          let chatBox = document.getElementsByClassName('chat-box-content')\n          if (chatBox.length > 0) {\n            for (const box of chatBox) {\n              if (box.offsetHeight > 0) {\n                this.curBox.height = box.offsetHeight\n                this.curBox.scrollTop = box.scrollTop\n                this.curBox.scrollHeight = box.scrollHeight\n                break\n              }\n            }\n          }\n        })\n      },\n      scrollToBottom() {\n        this.$nextTick(() => {\n          let chatBox = document.getElementsByClassName('chat-box-content')\n          if (chatBox.length > 0) {\n            for (const box of chatBox) {\n              if (box.offsetHeight > 0) {\n                box.scrollTop = box.scrollHeight\n                this.curBox.height = box.offsetHeight\n                this.curBox.scrollTop = box.scrollTop\n                this.curBox.scrollHeight = box.scrollHeight\n                this.chatLog[this.activeTab].hasNew = false\n                this.chatLog[this.activeTab].newCount = 0\n                break\n              }\n            }\n          }\n        })\n      },\n      dateFormat(d) {\n        let date = new Date(d)\n        return `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}:${String(date.getSeconds()).padStart(2, '0')}`\n      },\n      msgFormat(message) {\n        let msg = String(message)\n        msg = msg.replaceAll('\\n', '<br/>')\n        let atS = msg.indexOf('[CQ:at,qq=')\n        if (atS > -1) {\n          let atStr = msg.substring(atS + 10)\n          let atE = msg.indexOf(']')\n          let CQ = msg.substring(atS, atE + 1)\n          let at = atStr.substring(0, atStr.indexOf(']'))\n          msg = msg.replace(CQ, `<span class=\"color-at\">@${at}</span>`)\n        }\n        let curUrlPrefix = this.$cookies.get('curUrlPrefix')\n        let urlPrefix = curUrlPrefix ? this.$urlConf[curUrlPrefix + '_url'] : this.$urlConf['base_url']\n        return this.imgFormat(msg, urlPrefix)\n      },\n      imgFormat(msg, urlPrefix) {\n        if (msg.split('[CQ:image,').length > 1) {\n          let cqS = msg.indexOf('[CQ:image,')\n          let cqStr = msg.substring(cqS)\n          let cqE = cqStr.indexOf(']')\n          let CQ = cqStr.substring(0, cqE + 1)\n          if (CQ.indexOf('url') > -1) {\n            let urlS = CQ.indexOf('url=')\n            let urlStr = CQ.substring(urlS + 4)\n            let url = urlStr.substr(0, urlStr.indexOf('proxy=') > -1 ? urlStr.length - 9 : urlStr.length - 1)\n            // console.log(url)\n            let sp = url.split('.')\n            if ((sp.length > 1 && this.imgSuffix.some(o => sp[sp.length - 1].startsWith(o))) || url.indexOf('//gchat.qpic.cn/') > -1) {\n              url = urlPrefix + `xmbot/web/image.get?url=${url}`\n            }\n            msg = msg.replace(CQ, `<img class=\"display-block chat-item-img\" src=\"${url}\"/>`)\n          } else {\n            let fileS = CQ.indexOf('file=file:///')\n            let fileStr = CQ.substring(fileS + 13, CQ.length - 1)\n            let file = fileStr.substring(fileStr.indexOf('resource'))\n            // console.log(fileStr, file)\n            let url = urlPrefix + 'xmbot/' + file.replaceAll('\\\\', '/')\n            msg = msg.replace(CQ, `<img class=\"display-block chat-item-img\" src=\"${url}\"/>`)\n          }\n          return this.imgFormat(msg, urlPrefix)\n        } else {\n          return msg\n        }\n      },\n      sendSubmit() {\n        if (this.textArea === '') {\n          this.inputErr = true\n          return\n        }\n        let receiver = this.activeTab.toLowerCase().split('-')\n        let reply = receiver[0] === 'group' ? 'group_id' : 'user_id'\n        const params = {message_type: receiver[0], message: this.textArea}\n        params[reply] = receiver[1].split('_')[0]\n        params.apiName = receiver[1].split('_')[1]\n        this.$ajax({url: '/chat/sendMsg.do', method: 'post', data: params}).then(res => {\n          this.sendInit()\n        })\n      },\n      sendInit() {\n        this.textArea = ''\n      },\n      getMore() {\n        let split = this.activeTab.toLowerCase().split('-')\n        let params = {\n          type: split[0],\n          id: split[1],\n          apiName: split[2],\n          index: this.chatLog[this.activeTab].rows[0].id\n        }\n        this.moreLoading = true\n        this.$ajax({url: '/chat/getMoreMsg.json', method: 'post', data: params})\n      }\n    },\n    created() {\n      if (this.$route.meta.auth) {\n        this.checkAuth()\n          .then(() => {\n            this.ws = this.$ws\n            this.getChatLog(this.$store.state.chatLog)\n            this.loading = false\n            this.hideInput = !this.isAdmin\n          })\n          .catch(err => {\n            this.$router.push('/index')\n            this.$destroy(this.$options.name)\n          })\n      } else\n        this.loading = false\n    }\n  }\n</script>\n\n<style scoped>\n  >>> .color-at {\n    color: #8cc5ff;\n  }\n\n  .chat-header {\n    box-shadow: inset 0 0 4px 1px #8c939d;\n    padding: 5px\n  }\n\n  .chat-box {\n    overflow: hidden;\n    box-shadow: inset 0 0 5px 1px #8c939d;\n    height: 790px;\n  }\n\n  .chat-box-tabs {\n    /*height: 800px;*/\n    /*overflow: auto;*/\n    position: relative;\n    box-shadow: inset 15px 0 8px -15px #8c939d;\n  }\n\n  .chat-box-content {\n    height: 560px;\n    overflow: auto;\n    padding: 15px 10px;\n    box-shadow: inset 0 -15px 8px -15px #8c939d;\n    position: relative;\n  }\n\n  .content-tall {\n    height: 740px !important;\n  }\n\n  .chat-box-more {\n    text-align: center;\n    font-size: 14px;\n    margin-bottom: 6px;\n  }\n\n  .chat-box-scroll {\n    position: absolute;\n    right: 30px;\n    font-size: 20px;\n    line-height: 36px;\n    height: 36px;\n    width: 36px;\n    text-align: center;\n    background-color: #fff;\n    cursor: pointer;\n    color: #409eff;\n    z-index: 999;\n    border-radius: 50%;\n    box-shadow: 0 0 6px rgba(0, 0, 0, .40);\n  }\n\n  .chat-box-scroll:hover {\n    background-color: #f2f6fc;\n  }\n\n  .scroll-to-top {\n    top: 5px;\n  }\n\n  .scroll-to-bottom {\n    top: 548px;\n  }\n\n  .scroll-to-bottom-tall {\n    top: 728px;\n  }\n\n  .chat-divider-tall {\n    height: 20px;\n    text-align: center;\n  }\n\n  .input-open-btn {\n    line-height: 18px;\n    font-size: 12px;\n    font-weight: bolder;\n    display: inline-block;\n    width: 200px;\n    border-radius: 6px;\n    vertical-align: top;\n  }\n\n  .input-open-btn i {\n    transform: rotate(90deg);\n  }\n\n  .input-open-btn:hover {\n    cursor: pointer;\n    background-color: rgba(140, 197, 255, 0.40);\n  }\n\n  .chat-divider {\n    height: 10px;\n  }\n\n  .chat-box-input {\n    height: 180px;\n    box-shadow: inset 0 15px 8px -15px #8c939d;\n    padding: 10px;\n  }\n\n  .chat-box-input-btn {\n    padding: 8px 0;\n    text-align: right;\n    position: relative;\n  }\n\n  .chat-input-err {\n    color: red;\n    position: absolute;\n    left: 0;\n    top: 0;\n    font-size: 14px;\n    line-height: 24px;\n  }\n\n  .chat-input-textarea >>> textarea {\n    line-height: 20px;\n    font-family: \"Microsoft YaHei\", serif;\n  }\n\n  .chat-box-row, .chat-box-row-self {\n    padding: 5px;\n    margin-bottom: 5px;\n    border-radius: 5px;\n  }\n\n  .chat-box-row:hover {\n    box-shadow: 0 0 3px 3px #8c939d;\n  }\n\n  .chat-box-row-self:hover {\n    box-shadow: 0 0 3px 3px #8cc5ff;\n  }\n\n  .chat-item {\n    padding: 5px 10px;\n    box-shadow: 0 0 2px 1px #8c939d;\n    border-radius: 5px;\n    display: inline-block;\n    float: left;\n  }\n\n  .chat-item-self {\n    padding: 5px 10px;\n    box-shadow: 0 0 2px 1px #409EFF;\n    border-radius: 5px;\n    display: inline-block;\n    float: right;\n  }\n\n  .chat-item-title {\n    padding: 0 5px 2px 5px;\n    font-size: 14px;\n    display: inline-block;\n  }\n\n  .chat-item .chat-item-title {\n    box-shadow: 0 6px 6px -6px #8c939d;\n  }\n\n  .chat-item-self .chat-item-title {\n    box-shadow: 0 6px 6px -6px #409EFF;\n  }\n\n  .chat-item-user {\n    font-size: 16px;\n  }\n\n  .chat-item-time {\n    font-size: 14px;\n    vertical-align: bottom;\n    color: #8c939d;\n  }\n\n  .chat-item-content {\n    max-width: 500px;\n    margin: 5px 0 0 0;\n    padding: 0 5px;\n    line-height: 24px;\n  }\n\n  >>> .chat-item-img {\n    max-width: 500px;\n  }\n\n  .border-err >>> textarea {\n    border-color: red !important;\n  }\n\n  >>> .el-badge .el-badge__content {\n    top: 10px;\n    right: 5px;\n  }\n\n  .icon-translate-90 >>> i {\n    transform: rotate(90deg);\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/others/socket-chat.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-row',{staticClass:\"text-center chat-header\"},[_c('el-link',{attrs:{\"type\":_vm.wsColor},on:{\"click\":_vm.wsConnect}},[_vm._v(_vm._s(_vm.wsStatus))])],1),_vm._v(\" \"),_c('div',{staticClass:\"chat-divider\"}),_vm._v(\" \"),(!_vm.loading)?_c('el-tabs',{staticClass:\"chat-box\",attrs:{\"tab-position\":\"left\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},_vm._l((_vm.chatLog),function(val,key,index){return _c('el-tab-pane',{key:index,staticClass:\"chat-box-tabs\",attrs:{\"name\":key}},[_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[(val.newCount===0)?_c('span',[_vm._v(_vm._s(key))]):_c('el-badge',{staticStyle:{\"vertical-align\":\"top\"},attrs:{\"value\":val.newCount,\"max\":99}},[_c('span',[_vm._v(_vm._s(key))])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.curBox.scrollTop>200),expression:\"curBox.scrollTop>200\"}],staticClass:\"chat-box-scroll scroll-to-top\",on:{\"click\":function($event){return _vm.contentScroll(true)}}},[_c('i',{staticClass:\"el-icon-caret-top\"})]),_vm._v(\" \"),_c('div',{ref:\"chatBox\",refInFor:true,class:_vm.hideInput?'chat-box-content content-tall':'chat-box-content',on:{\"scroll\":_vm.scrollChange}},[_c('el-row',{staticClass:\"chat-box-more\"},[_c('el-link',{attrs:{\"type\":\"info\",\"disabled\":val.noMore},on:{\"click\":_vm.getMore}},[_vm._v(\"\\n            \"+_vm._s(val.noMore?'没有更多':'加载更多')+\"\\n          \")])],1),_vm._v(\" \"),_vm._l((val.rows),function(item,k){return _c('el-row',{key:k,class:item['is_self']?'chat-box-row-self':'chat-box-row'},[_c('div',{class:item['is_self']?'chat-item-self':'chat-item'},[_c('div',{class:item['is_self']?'text-right chat-item-title':'chat-item-title'},[_c('el-tooltip',{attrs:{\"content\":item.user_id,\"placement\":\"top\"}},[_c('el-link',{staticClass:\"chat-item-user\"},[_vm._v(_vm._s(item['nick_name']))])],1),_vm._v(\" \"),_c('span',{staticClass:\"chat-item-time\"},[_vm._v(\" [\"+_vm._s(_vm.dateFormat(item['send_time']))+\"]\")])],1),_vm._v(\" \"),_c('p',{staticClass:\"chat-item-content\",domProps:{\"innerHTML\":_vm._s(item.message)}})])])})],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.curBox.scrollHeight-_vm.curBox.scrollTop > _vm.curBox.height+200),expression:\"curBox.scrollHeight-curBox.scrollTop > curBox.height+200\"}],class:_vm.hideInput?'chat-box-scroll scroll-to-bottom-tall':'chat-box-scroll scroll-to-bottom',on:{\"click\":function($event){return _vm.contentScroll(false)}}},[_c('i',{staticClass:\"el-icon-caret-bottom\"})]),_vm._v(\" \"),_c('div',{class:_vm.hideInput?'chat-divider-tall':'chat-divider'},[(_vm.hideInput)?_c('span',{staticClass:\"input-open-btn\",on:{\"click\":function($event){return _vm.hideInputToggle(false)}}},[_c('i',{staticClass:\"el-icon-d-arrow-left\"})]):_vm._e()]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hideInput),expression:\"!hideInput\"}],staticClass:\"chat-box-input\"},[_c('el-input',{class:_vm.inputErr?'chat-input-textarea border-err':'chat-input-textarea',attrs:{\"readonly\":!_vm.isAdmin,\"type\":\"textarea\",\"rows\":6,\"placeholder\":_vm.isAdmin?'请输入内容':'权限不足',\"maxlength\":\"250\",\"show-word-limit\":\"\"},nativeOn:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.sendSubmit($event)},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.altKey){ return null; }_vm.textArea += '\\n'},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }_vm.textArea += '\\n'}]},model:{value:(_vm.textArea),callback:function ($$v) {_vm.textArea=$$v},expression:\"textArea\"}}),_vm._v(\" \"),_c('div',{staticClass:\"chat-box-input-btn\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.inputErr),expression:\"inputErr\"}],staticClass:\"chat-input-err\"},[_vm._v(\"未输入内容\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"icon-translate-90\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-d-arrow-right\"},on:{\"click\":function($event){return _vm.hideInputToggle(true)}}},[_vm._v(\"收起\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-delete\",\"disabled\":!_vm.isAdmin},on:{\"click\":_vm.sendInit}},[_vm._v(\"清空\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-check\",\"disabled\":!_vm.isAdmin},on:{\"click\":_vm.sendSubmit}},[_vm._v(\"发送\\n          \")])],1)],1)])}),1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-03c51a94\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/others/socket-chat.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03c51a94\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./socket-chat.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./socket-chat.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./socket-chat.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03c51a94\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./socket-chat.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-03c51a94\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/others/socket-chat.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}