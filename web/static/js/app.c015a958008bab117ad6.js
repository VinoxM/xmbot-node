webpackJsonp([7],{NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("//Fk"),r=t.n(o),a=t("7+uW"),u={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var c=t("VU/8")({name:"App"},u,!1,function(e){t("Tml/")},null,null).exports,i=t("/ocq");a.default.use(i.a);var s=new i.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"Index",component:function(){return t.e(4).then(t.bind(null,"dAjm"))}},{path:"/404",name:"404",component:function(){return t.e(3).then(t.bind(null,"thLP"))}},{path:"/login",name:"login",component:function(){return t.e(5).then(t.bind(null,"K31e"))}},{path:"/reset-pwd",name:"resetPassword",component:function(){return t.e(1).then(t.bind(null,"7FYp"))}},{path:"/pcr/pool-setting",name:"pcr-pool-setting",meta:{auth:!0},component:function(){return t.e(0).then(t.bind(null,"/PBl"))}},{path:"/plugins-dict",name:"plugins-dict",component:function(){return t.e(2).then(t.bind(null,"DuF9"))}},{path:"*",redirect:"/404"}]}),p=t("zL8q"),l=t.n(p),d=(t("tvR6"),t("gyMJ")),f=t("ppUw"),m=t.n(f);a.default.config.productionTip=!1,a.default.use(l.a),a.default.use(m.a),a.default.prototype.$ajax=d.b,a.default.prototype.checkAuth=g;var h=new a.default({el:"#app",router:s,components:{App:c},template:"<App/>"});function g(){return new r.a(function(e,n){var t=h.$cookies.get("token"),o=h.$cookies.get("salt");t&&o?h.$ajax({url:"/token.valid",params:{token:t,salt:o}}).then(function(t){0===t.code?e():h.$message({type:"error",message:t.msg,duration:1e3,onClose:function(){n("/login")}})}).catch(function(e){n("/index")}):h.$message({type:"error",message:"未登录",duration:1e3,onClose:function(){n("/login")}})})}Object(d.a)(h),s.beforeEach(function(e,n,t){e.matched.some(function(e){return e.meta&&e.meta.auth})?g().then(t()).catch(function(e){return t(e)}):t()})},"Tml/":function(e,n){},gyMJ:function(e,n,t){"use strict";t.d(n,"b",function(){return u}),n.a=function(e){u.interceptors.request.use(function(n){var t=e.$cookies.get("salt"),o=e.$cookies.get("token");return n.headers.token=o||"",n.headers.salt=t||"",n},function(n){return e.$message({type:"error",message:"请求出错"}),r.a.reject(n)}),u.interceptors.response.use(function(e){return e.data},function(n){return e.$message({type:"error",message:"服务器出错"}),r.a.reject(n)})};var o=t("//Fk"),r=t.n(o),a=t("mw3O"),u=(t.n(a),t("mtWM").default);u.defaults.baseURL="/",n.c=u},tvR6:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.c015a958008bab117ad6.js.map