{"version":3,"sources":["webpack:///./src/api/live.js","webpack:///./src/components/plugins/live/live-setting.vue?df2f","webpack:///src/components/plugins/live/live-setting.vue","webpack:///./src/components/plugins/live/live-setting.vue?23e3","webpack:///./src/components/plugins/live/live-setting.vue"],"names":["getLiveSetting","ajax","url","method","getBiliDynamic","params","saveLiveSetting","json","data","delOneDynamic","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticStyle","attrs","loading","on","getSettings","_v","saveLoading","save","_e","ref","setting","isAdmin","model","callback","$$v","$set","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-3ba5c4dc.bb614f0a.js","sourcesContent":["import ajax from './index'\n\nexport const getLiveSetting = () => ajax({url: '/setting/live.json', method: 'get'})\nexport const getBiliDynamic = (params) => ajax({url: '/bili/dynamic.json', method: 'get', params: params})\n\nexport const saveLiveSetting = (json) => ajax({url: '/setting/live.save', method: 'post', data: json})\nexport const delOneDynamic = (json) => ajax({url: '/bili/dynamic.delete', method: 'post', data: json})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"padding-top\":\"5px\"}},[_c('el-row',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"loading\":_vm.loading},on:{\"click\":_vm.getSettings}},[_vm._v(\"刷新\")]),(_vm.isAdmin)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"loading\":_vm.saveLoading},on:{\"click\":_vm.save}},[_vm._v(\"保存本页\")]):_vm._e()],1),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"90px\",\"model\":_vm.setting}},[_c('el-form-item',{attrs:{\"label\":\"用户ID\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isAdmin},model:{value:(_vm.setting.uid),callback:function ($$v) {_vm.$set(_vm.setting, \"uid\", $$v)},expression:\"setting.uid\"}})],1),_c('el-form-item',{attrs:{\"label\":\"直播间ID\"}},[_c('el-input',{attrs:{\"readonly\":!_vm.isAdmin},model:{value:(_vm.setting['room_id']),callback:function ($$v) {_vm.$set(_vm.setting, 'room_id', $$v)},expression:\"setting['room_id']\"}})],1),(_vm.isAdmin)?_c('el-form-item',{attrs:{\"label\":\"csrf_token\"}},[_c('el-input',{model:{value:(_vm.setting['csrf_token']),callback:function ($$v) {_vm.$set(_vm.setting, 'csrf_token', $$v)},expression:\"setting['csrf_token']\"}})],1):_vm._e(),(_vm.isAdmin)?_c('el-form-item',{attrs:{\"label\":\"Cookie\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"5\"},model:{value:(_vm.setting['cookie']),callback:function ($$v) {_vm.$set(_vm.setting, 'cookie', $$v)},expression:\"setting['cookie']\"}})],1):_vm._e(),(_vm.isAdmin)?_c('el-form-item',{attrs:{\"label\":\"YY房间号\"}},[_c('el-input',{model:{value:(_vm.setting['yy_room']),callback:function ($$v) {_vm.$set(_vm.setting, 'yy_room', $$v)},expression:\"setting['yy_room']\"}})],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-row v-loading=\"loading\" style=\"padding-top: 5px\">\n    <el-row style=\"margin-bottom: 15px\">\n      <el-button size=\"small\" type=\"success\" :loading=\"loading\" @click=\"getSettings\">刷新</el-button>\n      <el-button v-if=\"isAdmin\" type=\"primary\" size=\"small\" :loading=\"saveLoading\" @click=\"save\">保存本页</el-button>\n    </el-row>\n    <el-form label-width=\"90px\" ref=\"form\" :model=\"setting\">\n      <el-form-item label=\"用户ID\">\n        <el-input v-model=\"setting.uid\" :readonly=\"!isAdmin\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"直播间ID\">\n        <el-input v-model=\"setting['room_id']\" :readonly=\"!isAdmin\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"csrf_token\" v-if=\"isAdmin\">\n        <el-input v-model=\"setting['csrf_token']\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"Cookie\" v-if=\"isAdmin\">\n        <el-input type=\"textarea\" v-model=\"setting['cookie']\" rows=\"5\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"YY房间号\" v-if=\"isAdmin\">\n        <el-input v-model=\"setting['yy_room']\"></el-input>\n      </el-form-item>\n    </el-form>\n  </el-row>\n</template>\n\n<script>\n  import * as api_live from '../../../api/live'\n\n  export default {\n    name: \"live-setting\",\n    data() {\n      return {\n        setting: {},\n        loading: false,\n        saveLoading: false,\n      }\n    },\n    computed: {\n      isAdmin() {\n        return this.$store.state.isAdmin\n      }\n    },\n    methods: {\n      save() {\n        this.saveLoading = true\n        api_live.saveLiveSetting(this.setting).then(res => {\n          this.$message({\n            message: res['msg'],\n            type: res['code'] === 0 ? 'success' : 'error'\n          })\n          this.saveLoading = false\n        }).catch(err => {\n          this.saveLoading = false\n        })\n      },\n      getSettings() {\n        this.loading = true\n        api_live.getLiveSetting().then(res => {\n          if (res['code'] !== 0) {\n            this.loading = false\n            this.$message.error(res['msg'])\n            return\n          }\n          this.setting = res.data\n          this.loading = false\n        }).catch(err => {\n          this.loading = false\n        })\n      }\n    },\n    created() {\n      if (this.$route.meta.auth) {\n        this.checkAuth()\n          .then(() => {\n            this.getSettings()\n          })\n          .catch(err => {\n            this.$router.push('/index')\n            this.$destroy(this.$options.name)\n          })\n      } else {\n        this.getSettings()\n      }\n    }\n  }\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./live-setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./live-setting.vue?vue&type=template&id=7ec9c1c6&scoped=true&\"\nimport script from \"./live-setting.vue?vue&type=script&lang=js&\"\nexport * from \"./live-setting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ec9c1c6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}