webpackJsonp([6],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},r,!1,function(e){n("Tml/")},null,null).exports,u=n("/ocq");o.default.use(u.a);var s=new u.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"Index",component:function(){return n.e(2).then(n.bind(null,"dAjm"))}},{path:"/404",name:"404",component:function(){return n.e(3).then(n.bind(null,"thLP"))}},{path:"/login",name:"login",component:function(){return n.e(4).then(n.bind(null,"K31e"))}},{path:"/reset-pwd",name:"resetPassword",component:function(){return n.e(1).then(n.bind(null,"7FYp"))}},{path:"/pcr/pool-setting",name:"pcr-pool-setting",meta:{auth:!0},component:function(){return n.e(0).then(n.bind(null,"/PBl"))}},{path:"*",redirect:"/404"}]}),i=n("zL8q"),c=n.n(i),l=(n("tvR6"),n("gyMJ")),p=n("ppUw"),d=n.n(p);o.default.config.productionTip=!1,o.default.use(c.a),o.default.use(d.a),o.default.prototype.$ajax=l.b;var f=new o.default({el:"#app",router:s,components:{App:a},template:"<App/>"});Object(l.a)(f),s.beforeEach(function(e,t,n){if(e.matched.some(function(e){return e.meta&&e.meta.auth})){var o=f.$cookies.get("token"),r=f.$cookies.get("salt");console.log(o,r),o&&r?f.$ajax({url:"/token.valid",params:{token:o,salt:r}}).then(function(e){0===e.code?n():f.$message({type:"error",message:e.msg,duration:1e3,onClose:function(){n("/login")}})}).catch(function(e){n("/index")}):f.$message({type:"error",message:"未登录",duration:1e3,onClose:function(){n("/login")}})}else n()})},"Tml/":function(e,t){},gyMJ:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),t.a=function(e){u.interceptors.request.use(function(t){var n=e.$cookies.get("salt"),o=e.$cookies.get("token");return t.headers.token=o||"",t.headers.salt=n||"",t},function(t){return e.$message({type:"error",message:"请求出错"}),r.a.reject(t)}),u.interceptors.response.use(function(e){return e.data},function(t){return e.$message({type:"error",message:"服务器出错"}),r.a.reject(t)})};var o=n("//Fk"),r=n.n(o),a=n("mw3O"),u=(n.n(a),n("mtWM").default);u.defaults.baseURL="http://localhost:9221/",t.c=u},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.86ba28abcb6a5d57c6f3.js.map